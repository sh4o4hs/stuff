import{f as e,g as t,m as o,i as r,k as a,b as l}from"./agent.2f3052af.js";import{b as s,s as i}from"./agent.c55f3b95.js";import{r as n}from"./agent.e16c05fc.js";function c(){}var g=Object.freeze({__proto__:null,clear:c,hide:function(){},show:function(){}});let h={handle(a){globalThis.lobby.currentUser=a.userInfo;let l=s,c=i;l.isLogin=!0,l.state="已登入",e&&t(),o.redraw(),n.serviceEnd(h.report),n.log({label:"net",category:"登入"}),c.isManual||r()},report:{time:0,category:"登入",getLabel:()=>"net"},error:a.fatal},u={handle(e){s.isError=!0,globalThis.Howler&&(globalThis.Howler.mute(!0),globalThis.Howler.unload());let t="errorLow";"this account log in elsewhere"===e.text&&(t="elsewhere"),"errorLow"!==t&&l({title:"errorLow",msg:t})}},b={handle(e){s.isError=!0,globalThis.Howler&&(globalThis.Howler.mute(!0),globalThis.Howler.unload());let t="kickOut";"idle too long time"===e.text?t="kickOut":"System kickout"===e.text&&(t="systemKickOut"),l({title:"notice",msg:t})}};const d="kickOut",m="updateBalance",w="disconnectMsg";let f={handle(e){let t=e;if("string"==typeof e&&(t=JSON.parse(e)),t&&t.proto&&t.json){let e=JSON.parse(t.json);switch(t.proto){case m:break;case w:u.handle(e);break;case d:b.handle(e)}}}};export{h as C,f as a,c,g as n};
