let e={client:{eventList:[],errorList:[]}};let t=1;var a={getIP:async function(){try{if(!e.ip){let t=await fetch("//pro.ip-api.com/json?key=5SgCadGS9fH36ub");if(t&&t.ok){let a=await t.json();e.ip=a}}}catch(e){}return e.ip},statistic:e,error:function(e){e&&globalThis.gtag&&gtag("event",e.eventName||"錯誤",{event_category:e.category,event_label:e.label,value:e.value||-1,non_interaction:!0})},report:{name:"",currentURL:""},serviceBegin:function(e){e.time=Math.round(performance.now())},serviceEnd:function(t,a){a||(t.time=Math.round(performance.now())-t.time),globalThis.gtag&&gtag("event","timing_complete",{name:t.name||"後台服務",value:t.time,event_category:t.category,event_label:t.getLabel()});let n={name:t.name||"後台服務",label:t.getLabel(),category:t.category,value:t.time};e.client.eventList.push(n)},loadBegin:function(e){e.time=Math.round(performance.now())},loadEnd:function(t){t.time=Math.round(performance.now())-t.time,globalThis.gtag&&gtag("event","timing_complete",{name:t.name||"加載服務",value:t.time,event_category:t.category,event_label:t.getLabel()});let a={name:t.name||"加載服務",label:t.getLabel(),category:t.category,value:t.time};e.client.eventList.push(a)},log0:function(e){},log:function(e){e&&(globalThis.gtag&&gtag("event",e.eventName||"歷程",{event_category:e.category,event_label:`${e.label}`,value:e.value||-1,non_interaction:!0}),t+=1)}};export{a as r};
