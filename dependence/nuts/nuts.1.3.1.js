!function(a){function b(a){Object.defineProperty(this,a,{enumerable:!0,get:function(){return this[o][a]}})}function c(a){if("undefined"!=typeof System&&System.isModule?System.isModule(a):"[object Module]"===Object.prototype.toString.call(a))return a;var b={default:a,__useDefault:a};if(a&&a.__esModule)for(var c in a)Object.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return new d(b)}function d(a){Object.defineProperty(this,o,{value:a}),Object.keys(a).forEach(b,this)}function e(a){return"@node/"===a.substr(0,6)?m(a,c(p(a.substr(6)))):n[a]}function f(a){var b=e(a);if(!b)throw new Error('Module "'+a+'" expected, but not contained in build.');if(b.module)return b.module;var c=b.linkRecord;return function g(a,b){if(!b.depLoads){b.declare&&h(a,b),b.depLoads=[];for(var c=0;c<b.deps.length;c++){var d=e(b.deps[c]);b.depLoads.push(d),d.linkRecord&&g(d,d.linkRecord);var f=b.setters&&b.setters[c];f&&(f(d.module||d.linkRecord.moduleObj),d.importerSetters.push(f))}return a}}(b,c),l(b,c,[]),b.module}function h(b,c){var d=c.moduleObj,e=b.importerSetters,f=!1,g=c.declare.call(a,function(a,b){if(!f){if("object"==typeof a)for(var c in a)"__useDefault"!==c&&(d[c]=a[c]);else d[a]=b;f=!0;for(var g=0;g<e.length;g++)e[g](d);return f=!1,b}},{id:b.key});c.execute="function"!=typeof g?(c.setters=g.setters,g.execute):(c.setters=[],g)}function i(a,b,c){return n[a]={key:a,module:void 0,importerSetters:[],linkRecord:{deps:b,depLoads:void 0,declare:c,setters:void 0,execute:void 0,moduleObj:{}}}}function j(a,b,c,d){var e={};return n[a]={key:a,module:void 0,importerSetters:[],linkRecord:{deps:b,depLoads:void 0,declare:void 0,execute:d,executingRequire:c,moduleObj:{default:e,__useDefault:e},setters:void 0}}}function l(b,c,e){if(e.push(b),b.module)return b.module;if(c.setters){for(var f=0;f<c.deps.length;f++){var g=c.depLoads[f],h=g.linkRecord;h&&-1===e.indexOf(g)&&l(g,h,h.setters?e:[])}c.execute.call(q)}else{var i={id:b.key},j=c.moduleObj;Object.defineProperty(i,"exports",{configurable:!0,set:function(a){j.default=j.__useDefault=a},get:function(){return j.__useDefault}});var m=function(a,b,c){return function(d){for(var e=0;e<a.length;e++)if(a[e]===d){var f,g=b[e],h=g.linkRecord;return"__useDefault"in(f=h?-1===c.indexOf(g)?l(g,h,c):h.moduleObj:g.module)?f.__useDefault:f}}}(c.deps,c.depLoads,e);if(!c.executingRequire)for(f=0;f<c.deps.length;f++)m(c.deps[f]);var n=c.execute.call(a,m,j.__useDefault,i);void 0!==n?j.default=j.__useDefault=n:i.exports!==j.__useDefault&&(j.default=j.__useDefault=i.exports);var o=j.__useDefault;if(o&&o.__esModule)for(var p in o)Object.hasOwnProperty.call(o,p)&&(j[p]=o[p])}i=b.module=new d(c.moduleObj);if(!c.setters)for(f=0;f<b.importerSetters.length;f++)b.importerSetters[f](i);return i}function m(a,b){return n[a]={key:a,module:b,importerSetters:[],linkRecord:void 0}}var n={},o="undefined"!=typeof Symbol?Symbol():"@@baseObject";d.prototype=Object.create(null),"undefined"!=typeof Symbol&&Symbol.toStringTag&&(d.prototype[Symbol.toStringTag]="Module");var p="undefined"!=typeof System&&System._nodeRequire||"undefined"!=typeof require&&void 0!==require.resolve&&"undefined"!=typeof process&&process.platform&&require,q={};return Object.freeze&&Object.freeze(q),function(a,b,e,g){return function(h){h(function(h){var k={_nodeRequire:p,register:i,registerDynamic:j,registry:{get:function(a){return n[a].module},set:m},newModule:function(a){return new d(a)}};m("@empty",new d({}));for(var l=0;l<b.length;l++)m(b[l],c(arguments[l]));g(k);var o=f(a[0]);if(1<a.length)for(l=1;l<a.length;l++)f(a[l]);return e?o.__useDefault:(o instanceof d&&Object.defineProperty(o,"__esModule",{value:!0}),o)})}}}("undefined"!=typeof self?self:"undefined"!=typeof global?global:this)(["a"],["c","d"],!1,function(a){var b=this.require,c=this.exports,d=this.module;!function(b){"object"==typeof c&&void 0!==d?d.exports=b():a.registerDynamic("b",[],!1,function(a,c,d){return b.call(this)})}(function(){return function a(c,d,e){function f(h,i){if(!d[h]){if(!c[h]){var j="function"==typeof b&&b;if(!i&&j)return j(h,!0);if(g)return g(h,!0);var k=new Error("Cannot find module '"+h+"'");throw k.code="MODULE_NOT_FOUND",k}var l=d[h]={exports:{}};c[h][0].call(l.exports,function(a){return f(c[h][1][a]||a)},l,l.exports,a,c,d,e)}return d[h].exports}for(var g="function"==typeof b&&b,h=0;h<e.length;h++)f(e[h]);return f}({1:[function(a,b,c){"use strict";function d(a){return function(){throw new Error("Function "+a+" is deprecated and cannot be used.")}}var e=a("./js-yaml/loader"),f=a("./js-yaml/dumper");b.exports.Type=a("./js-yaml/type"),b.exports.Schema=a("./js-yaml/schema"),b.exports.FAILSAFE_SCHEMA=a("./js-yaml/schema/failsafe"),b.exports.JSON_SCHEMA=a("./js-yaml/schema/json"),b.exports.CORE_SCHEMA=a("./js-yaml/schema/core"),b.exports.DEFAULT_SAFE_SCHEMA=a("./js-yaml/schema/default_safe"),b.exports.DEFAULT_FULL_SCHEMA=a("./js-yaml/schema/default_full"),b.exports.load=e.load,b.exports.loadAll=e.loadAll,b.exports.safeLoad=e.safeLoad,b.exports.safeLoadAll=e.safeLoadAll,b.exports.dump=f.dump,b.exports.safeDump=f.safeDump,b.exports.YAMLException=a("./js-yaml/exception"),b.exports.MINIMAL_SCHEMA=a("./js-yaml/schema/failsafe"),b.exports.SAFE_SCHEMA=a("./js-yaml/schema/default_safe"),b.exports.DEFAULT_SCHEMA=a("./js-yaml/schema/default_full"),b.exports.scan=d("scan"),b.exports.parse=d("parse"),b.exports.compose=d("compose"),b.exports.addConstructor=d("addConstructor")},{"./js-yaml/dumper":3,"./js-yaml/exception":4,"./js-yaml/loader":5,"./js-yaml/schema":7,"./js-yaml/schema/core":8,"./js-yaml/schema/default_full":9,"./js-yaml/schema/default_safe":10,"./js-yaml/schema/failsafe":11,"./js-yaml/schema/json":12,"./js-yaml/type":13}],2:[function(a,b,c){"use strict";function d(a){return null==a}b.exports.isNothing=d,b.exports.isObject=function(a){return"object"==typeof a&&null!==a},b.exports.toArray=function(a){return Array.isArray(a)?a:d(a)?[]:[a]},b.exports.repeat=function(a,b){var c,d="";for(c=0;c<b;c+=1)d+=a;return d},b.exports.isNegativeZero=function(a){return 0===a&&Number.NEGATIVE_INFINITY===1/a},b.exports.extend=function(a,b){var c,d,e,f;if(b)for(c=0,d=(f=Object.keys(b)).length;c<d;c+=1)a[e=f[c]]=b[e];return a}},{}],3:[function(a,b,c){"use strict";function e(a){var b,c,d;if(b=a.toString(16).toUpperCase(),a<=255)c="x",d=2;else if(a<=65535)c="u",d=4;else{if(!(a<=4294967295))throw new E("code point within a string may not be greater than 0xFFFFFFFF");c="U",d=8}return"\\"+c+D.repeat("0",d-b.length)+b}function f(a){this.schema=a.schema||F,this.indent=Math.max(1,a.indent||2),this.skipInvalid=a.skipInvalid||!1,this.flowLevel=D.isNothing(a.flowLevel)?-1:a.flowLevel,this.styleMap=function(a,b){var c,d,e,f,g,h,i;if(null===b)return{};for(c={},e=0,f=(d=Object.keys(b)).length;e<f;e+=1)g=d[e],h=String(b[g]),"!!"===g.slice(0,2)&&(g="tag:yaml.org,2002:"+g.slice(2)),(i=a.compiledTypeMap.fallback[g])&&I.call(i.styleAliases,h)&&(h=i.styleAliases[h]),c[g]=h;return c}(this.schema,a.styles||null),this.sortKeys=a.sortKeys||!1,this.lineWidth=a.lineWidth||80,this.noRefs=a.noRefs||!1,this.noCompatMode=a.noCompatMode||!1,this.condenseFlow=a.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function g(a,b){for(var c,d=D.repeat(" ",b),e=0,f=-1,g="",h=a.length;e<h;)e=-1===(f=a.indexOf("\n",e))?(c=a.slice(e),h):(c=a.slice(e,f+1),f+1),c.length&&"\n"!==c&&(g+=d),g+=c;return g}function h(a,b){return"\n"+D.repeat(" ",a.indent*b)}function j(a){return a===L||a===J}function k(a){return 32<=a&&a<=126||161<=a&&a<=55295&&8232!==a&&8233!==a||57344<=a&&a<=65533&&65279!==a||65536<=a&&a<=1114111}function l(a){return k(a)&&65279!==a&&a!==T&&a!==Z&&a!==$&&a!==aa&&a!==ca&&a!==V&&a!==O}function n(a,b,c,d,e){var f,g,h=!1,i=!1,n=-1!==d,o=-1,p=function(a){return k(a)&&65279!==a&&!j(a)&&a!==U&&a!==X&&a!==V&&a!==T&&a!==Z&&a!==$&&a!==aa&&a!==ca&&a!==O&&a!==Q&&a!==S&&a!==M&&a!==ba&&a!==W&&a!==R&&a!==N&&a!==P&&a!==Y&&a!==_}(a.charCodeAt(0))&&!j(a.charCodeAt(a.length-1));if(b)for(f=0;f<a.length;f++){if(!k(g=a.charCodeAt(f)))return ja;p=p&&l(g)}else{for(f=0;f<a.length;f++){if((g=a.charCodeAt(f))===K)h=!0,n&&(i=i||d<f-o-1&&" "!==a[o+1],o=f);else if(!k(g))return ja;p=p&&l(g)}i=i||n&&d<f-o-1&&" "!==a[o+1]}return h||i?" "===a[0]&&9<c?ja:i?ia:ha:p&&!e(a)?fa:ga}function o(a,b,c,d){a.dump=function(){if(0===b.length)return"''";if(!a.noCompatMode&&-1!==ea.indexOf(b))return"'"+b+"'";var e=a.indent*Math.max(1,c),f=-1===a.lineWidth?-1:Math.max(Math.min(a.lineWidth,40),a.lineWidth-e),h=d||-1<a.flowLevel&&c>=a.flowLevel;switch(n(b,h,a.indent,f,function(b){return function(a,b){var c,d;for(c=0,d=a.implicitTypes.length;c<d;c+=1)if(a.implicitTypes[c].resolve(b))return!0;return!1}(a,b)})){case fa:return b;case ga:return"'"+b.replace(/'/g,"''")+"'";case ha:return"|"+p(b,a.indent)+q(g(b,e));case ia:return">"+p(b,a.indent)+q(g(function(a,b){for(var c,d,e=/(\n+)([^\n]*)/g,f=function(){var c=a.indexOf("\n");return c=-1!==c?c:a.length,e.lastIndex=c,s(a.slice(0,c),b)}(),g="\n"===a[0]||" "===a[0];d=e.exec(a);){var h=d[1],i=d[2];c=" "===i[0],f+=h+(g||c||""===i?"":"\n")+s(i,b),g=c}return f}(b,f),e));case ja:return'"'+t(b)+'"';default:throw new E("impossible error: invalid scalar style")}}()}function p(a,b){var c=" "===a[0]?String(b):"",d="\n"===a[a.length-1];return c+(!d||"\n"!==a[a.length-2]&&"\n"!==a?d?"":"-":"+")+"\n"}function q(a){return"\n"===a[a.length-1]?a.slice(0,-1):a}function s(a,b){if(""===a||" "===a[0])return a;for(var c,d,e=/ [^ ]/g,f=0,g=0,h=0,i="";c=e.exec(a);)(h=c.index)-f>b&&(d=f<g?g:h,i+="\n"+a.slice(f,d),f=d+1),g=h;return i+="\n",a.length-f>b&&f<g?i+=a.slice(f,g)+"\n"+a.slice(g+1):i+=a.slice(f),i.slice(1)}function t(a){for(var b,c,d,f="",g=0;g<a.length;g++)55296<=(b=a.charCodeAt(g))&&b<=56319&&56320<=(c=a.charCodeAt(g+1))&&c<=57343?(f+=e(1024*(b-55296)+c-56320+65536),g++):f+=!(d=da[b])&&k(b)?a[g]:d||e(b);return f}function v(a,b,c,d){var e,f,g="",i=a.tag;for(e=0,f=c.length;e<f;e+=1)z(a,b+1,c[e],!0,!0)&&(d&&0===e||(g+=h(a,b)),a.dump&&K===a.dump.charCodeAt(0)?g+="-":g+="- ",g+=a.dump);a.tag=i,a.dump=g||"[]"}function x(a,b,c,d){var e,f,g,i,j,k,l="",m=a.tag,n=Object.keys(c);if(!0===a.sortKeys)n.sort();else if("function"==typeof a.sortKeys)n.sort(a.sortKeys);else if(a.sortKeys)throw new E("sortKeys must be a boolean or a function");for(e=0,f=n.length;e<f;e+=1)k="",d&&0===e||(k+=h(a,b)),i=c[g=n[e]],z(a,b+1,g,!0,!0,!0)&&((j=null!==a.tag&&"?"!==a.tag||a.dump&&1024<a.dump.length)&&(a.dump&&K===a.dump.charCodeAt(0)?k+="?":k+="? "),k+=a.dump,j&&(k+=h(a,b)),z(a,b+1,i,!0,j)&&(a.dump&&K===a.dump.charCodeAt(0)?k+=":":k+=": ",l+=k+=a.dump));a.tag=m,a.dump=l||"{}"}function y(a,b,c){var d,e,f,g,h,i;for(f=0,g=(e=c?a.explicitTypes:a.implicitTypes).length;f<g;f+=1)if(((h=e[f]).instanceOf||h.predicate)&&(!h.instanceOf||"object"==typeof b&&b instanceof h.instanceOf)&&(!h.predicate||h.predicate(b))){if(a.tag=c?h.tag:"?",h.represent){if(i=a.styleMap[h.tag]||h.defaultStyle,"[object Function]"===H.call(h.represent))d=h.represent(b,i);else{if(!I.call(h.represent,i))throw new E("!<"+h.tag+'> tag resolver accepts not "'+i+'" style');d=h.represent[i](b,i)}a.dump=d}return!0}return!1}function z(a,b,c,d,e,f){a.tag=null,a.dump=c,y(a,c,!1)||y(a,c,!0);var g=H.call(a.dump);d&&(d=a.flowLevel<0||a.flowLevel>b);var h,i,j="[object Object]"===g||"[object Array]"===g;if(j&&(i=-1!==(h=a.duplicates.indexOf(c))),(null!==a.tag&&"?"!==a.tag||i||2!==a.indent&&0<b)&&(e=!1),i&&a.usedDuplicates[h])a.dump="*ref_"+h;else{if(j&&i&&!a.usedDuplicates[h]&&(a.usedDuplicates[h]=!0),"[object Object]"===g)d&&0!==Object.keys(a.dump).length?(x(a,b,a.dump,e),i&&(a.dump="&ref_"+h+a.dump)):(function(a,b,c){var d,e,f,g,h,i="",j=a.tag,k=Object.keys(c);for(d=0,e=k.length;d<e;d+=1)h=a.condenseFlow?'"':"",0!==d&&(h+=", "),g=c[f=k[d]],z(a,b,f,!1,!1)&&(1024<a.dump.length&&(h+="? "),h+=a.dump+(a.condenseFlow?'"':"")+":"+(a.condenseFlow?"":" "),z(a,b,g,!1,!1)&&(i+=h+=a.dump));a.tag=j,a.dump="{"+i+"}"}(a,b,a.dump),i&&(a.dump="&ref_"+h+" "+a.dump));else if("[object Array]"===g)d&&0!==a.dump.length?(v(a,b,a.dump,e),i&&(a.dump="&ref_"+h+a.dump)):(function(a,b,c){var d,e,f="",g=a.tag;for(d=0,e=c.length;d<e;d+=1)z(a,b,c[d],!1,!1)&&(0!==d&&(f+=","+(a.condenseFlow?"":" ")),f+=a.dump);a.tag=g,a.dump="["+f+"]"}(a,b,a.dump),i&&(a.dump="&ref_"+h+" "+a.dump));else{if("[object String]"!==g){if(a.skipInvalid)return!1;throw new E("unacceptable kind of an object to dump "+g)}"?"!==a.tag&&o(a,a.dump,b,f)}null!==a.tag&&"?"!==a.tag&&(a.dump="!<"+a.tag+"> "+a.dump)}return!0}function A(a,b){var c,d,e=[],f=[];for(function B(a,b,c){var d,e,f;if(null!==a&&"object"==typeof a)if(-1!==(e=b.indexOf(a)))-1===c.indexOf(e)&&c.push(e);else if(b.push(a),Array.isArray(a))for(e=0,f=a.length;e<f;e+=1)B(a[e],b,c);else for(e=0,f=(d=Object.keys(a)).length;e<f;e+=1)B(a[d[e]],b,c)}(a,e,f),c=0,d=f.length;c<d;c+=1)b.duplicates.push(e[f[c]]);b.usedDuplicates=new Array(d)}function C(a,b){var c=new f(b=b||{});return c.noRefs||A(a,c),z(c,0,a,!0,!0)?c.dump+"\n":""}var D=a("./common"),E=a("./exception"),F=a("./schema/default_full"),G=a("./schema/default_safe"),H=Object.prototype.toString,I=Object.prototype.hasOwnProperty,J=9,K=10,L=32,M=33,N=34,O=35,P=37,Q=38,R=39,S=42,T=44,U=45,V=58,W=62,X=63,Y=64,Z=91,$=93,_=96,aa=123,ba=124,ca=125,da={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},ea=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],fa=1,ga=2,ha=3,ia=4,ja=5;b.exports.dump=C,b.exports.safeDump=function(a,b){return C(a,D.extend({schema:G},b))}},{"./common":2,"./exception":4,"./schema/default_full":9,"./schema/default_safe":10}],4:[function(a,b,c){"use strict";function d(a,b){Error.call(this),this.name="YAMLException",this.reason=a,this.mark=b,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}((d.prototype=Object.create(Error.prototype)).constructor=d).prototype.toString=function(a){var b=this.name+": ";return b+=this.reason||"(unknown reason)",!a&&this.mark&&(b+=" "+this.mark.toString()),b},b.exports=d},{}],5:[function(a,b,c){"use strict";function d(a){return 10===a||13===a}function e(a){return 9===a||32===a}function f(a){return 9===a||32===a||10===a||13===a}function g(a){return 44===a||91===a||93===a||123===a||125===a}function h(a){var b;return 48<=a&&a<=57?a-48:97<=(b=32|a)&&b<=102?b-97+10:-1}function i(a){return 120===a?2:117===a?4:85===a?8:0}function j(a){return 48<=a&&a<=57?a-48:-1}function k(a){return 48===a?"\0":97===a?"":98===a?"\b":116===a?"\t":9===a?"\t":110===a?"\n":118===a?"\v":102===a?"\f":114===a?"\r":101===a?"":32===a?" ":34===a?'"':47===a?"/":92===a?"\\":78===a?"":95===a?" ":76===a?"\u2028":80===a?"\u2029":""}function l(a){return a<=65535?String.fromCharCode(a):String.fromCharCode(55296+(a-65536>>10),56320+(a-65536&1023))}function m(a,b){this.input=a,this.filename=b.filename||null,this.schema=b.schema||Q,this.onWarning=b.onWarning||null,this.legacy=b.legacy||!1,this.json=b.json||!1,this.listener=b.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=a.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function n(a,b){return new N(b,new O(a.filename,a.input,a.position,a.line,a.position-a.lineStart))}function o(a,b){throw n(a,b)}function p(a,b){a.onWarning&&a.onWarning.call(null,n(a,b))}function q(a,b,c,d){var e,f,g,h;if(b<c){if(h=a.input.slice(b,c),d)for(e=0,f=h.length;e<f;e+=1)9===(g=h.charCodeAt(e))||32<=g&&g<=1114111||o(a,"expected valid JSON character");else Z.test(h)&&o(a,"the stream contains non-printable characters");a.result+=h}}function r(a,b,c,d){var e,f,g,h;for(M.isObject(c)||o(a,"cannot merge mappings; the provided source object is unacceptable"),g=0,h=(e=Object.keys(c)).length;g<h;g+=1)f=e[g],R.call(b,f)||(b[f]=c[f],d[f]=!0)}function s(a,b,c,d,e,f,g,h){var i,j;if(e=String(e),null===b&&(b={}),"tag:yaml.org,2002:merge"===d)if(Array.isArray(f))for(i=0,j=f.length;i<j;i+=1)r(a,b,f[i],c);else r(a,b,f,c);else a.json||R.call(c,e)||!R.call(b,e)||(a.line=g||a.line,a.position=h||a.position,o(a,"duplicated mapping key")),b[e]=f,delete c[e];return b}function t(a){var b;10===(b=a.input.charCodeAt(a.position))?a.position++:13===b?(a.position++,10===a.input.charCodeAt(a.position)&&a.position++):o(a,"a line break is expected"),a.line+=1,a.lineStart=a.position}function u(a,b,c){for(var f=0,g=a.input.charCodeAt(a.position);0!==g;){for(;e(g);)g=a.input.charCodeAt(++a.position);if(b&&35===g)for(;10!==(g=a.input.charCodeAt(++a.position))&&13!==g&&0!==g;);if(!d(g))break;for(t(a),g=a.input.charCodeAt(a.position),f++,a.lineIndent=0;32===g;)a.lineIndent++,g=a.input.charCodeAt(++a.position)}return-1!==c&&0!==f&&a.lineIndent<c&&p(a,"deficient indentation"),f}function v(a){var b,c=a.position;return!(45!==(b=a.input.charCodeAt(c))&&46!==b||b!==a.input.charCodeAt(c+1)||b!==a.input.charCodeAt(c+2)||(c+=3,0!==(b=a.input.charCodeAt(c))&&!f(b)))}function w(a,b){1===b?a.result+=" ":1<b&&(a.result+=M.repeat("\n",b-1))}function x(a,b,c){var i,j,k,l,m,n,o,p,r=a.kind,s=a.result;if(f(p=a.input.charCodeAt(a.position))||g(p)||35===p||38===p||42===p||33===p||124===p||62===p||39===p||34===p||37===p||64===p||96===p)return!1;if((63===p||45===p)&&(f(i=a.input.charCodeAt(a.position+1))||c&&g(i)))return!1;for(a.kind="scalar",a.result="",j=k=a.position,l=!1;0!==p;){if(58===p){if(f(i=a.input.charCodeAt(a.position+1))||c&&g(i))break}else if(35===p){if(f(a.input.charCodeAt(a.position-1)))break}else{if(a.position===a.lineStart&&v(a)||c&&g(p))break;if(d(p)){if(m=a.line,n=a.lineStart,o=a.lineIndent,u(a,!1,-1),a.lineIndent>=b){l=!0,p=a.input.charCodeAt(a.position);continue}a.position=k,a.line=m,a.lineStart=n,a.lineIndent=o;break}}l&&(q(a,j,k,!1),w(a,a.line-m),j=k=a.position,l=!1),e(p)||(k=a.position+1),p=a.input.charCodeAt(++a.position)}return q(a,j,k,!1),!!a.result||(a.kind=r,a.result=s,!1)}function y(a,b){var c,e,f;if(39!==(c=a.input.charCodeAt(a.position)))return!1;for(a.kind="scalar",a.result="",a.position++,e=f=a.position;0!==(c=a.input.charCodeAt(a.position));)if(39===c){if(q(a,e,a.position,!0),39!==(c=a.input.charCodeAt(++a.position)))return!0;e=a.position,a.position++,f=a.position}else d(c)?(q(a,e,f,!0),w(a,u(a,!1,b)),e=f=a.position):a.position===a.lineStart&&v(a)?o(a,"unexpected end of the document within a single quoted scalar"):(a.position++,f=a.position);o(a,"unexpected end of the stream within a single quoted scalar")}function z(a,b){var c,e,f,g,j,k;if(34!==(k=a.input.charCodeAt(a.position)))return!1;for(a.kind="scalar",a.result="",a.position++,c=e=a.position;0!==(k=a.input.charCodeAt(a.position));){if(34===k)return q(a,c,a.position,!0),a.position++,!0;if(92===k){if(q(a,c,a.position,!0),d(k=a.input.charCodeAt(++a.position)))u(a,!1,b);else if(k<256&&ca[k])a.result+=da[k],a.position++;else if(0<(j=i(k))){for(f=j,g=0;0<f;f--)0<=(j=h(k=a.input.charCodeAt(++a.position)))?g=(g<<4)+j:o(a,"expected hexadecimal character");a.result+=l(g),a.position++}else o(a,"unknown escape sequence");c=e=a.position}else d(k)?(q(a,c,e,!0),w(a,u(a,!1,b)),c=e=a.position):a.position===a.lineStart&&v(a)?o(a,"unexpected end of the document within a double quoted scalar"):(a.position++,e=a.position)}o(a,"unexpected end of the stream within a double quoted scalar")}function A(a,b){var c,d,e,g,h,i,j,k,l,m,n=!0,p=a.tag,q=a.anchor,r={};if(91===(m=a.input.charCodeAt(a.position)))i=!(e=93),d=[];else{if(123!==m)return!1;e=125,i=!0,d={}}for(null!==a.anchor&&(a.anchorMap[a.anchor]=d),m=a.input.charCodeAt(++a.position);0!==m;){if(u(a,!0,b),(m=a.input.charCodeAt(a.position))===e)return a.position++,a.tag=p,a.anchor=q,a.kind=i?"mapping":"sequence",a.result=d,!0;n||o(a,"missed comma between flow collection entries"),l=null,g=h=!1,63===m&&f(a.input.charCodeAt(a.position+1))&&(g=h=!0,a.position++,u(a,!0,b)),c=a.line,H(a,b,S,!1,!0),k=a.tag,j=a.result,u(a,!0,b),m=a.input.charCodeAt(a.position),!h&&a.line!==c||58!==m||(g=!0,m=a.input.charCodeAt(++a.position),u(a,!0,b),H(a,b,S,!1,!0),l=a.result),i?s(a,d,r,k,j,l):g?d.push(s(a,null,r,k,j,l)):d.push(j),u(a,!0,b),44===(m=a.input.charCodeAt(a.position))?(n=!0,m=a.input.charCodeAt(++a.position)):n=!1}o(a,"unexpected end of the stream within a flow collection")}function B(a,b){var c,f,g,h,i=W,k=!1,l=!1,m=b,n=0,p=!1;if(124===(h=a.input.charCodeAt(a.position)))f=!1;else{if(62!==h)return!1;f=!0}for(a.kind="scalar",a.result="";0!==h;)if(43===(h=a.input.charCodeAt(++a.position))||45===h)W===i?i=43===h?Y:X:o(a,"repeat of a chomping mode identifier");else{if(!(0<=(g=j(h))))break;0===g?o(a,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?o(a,"repeat of an indentation width identifier"):(m=b+g-1,l=!0)}if(e(h)){for(;e(h=a.input.charCodeAt(++a.position)););if(35===h)for(;!d(h=a.input.charCodeAt(++a.position))&&0!==h;);}for(;0!==h;){for(t(a),a.lineIndent=0,h=a.input.charCodeAt(a.position);(!l||a.lineIndent<m)&&32===h;)a.lineIndent++,h=a.input.charCodeAt(++a.position);if(!l&&a.lineIndent>m&&(m=a.lineIndent),d(h))n++;else{if(a.lineIndent<m){i===Y?a.result+=M.repeat("\n",k?1+n:n):i===W&&k&&(a.result+="\n");break}for(f?e(h)?(p=!0,a.result+=M.repeat("\n",k?1+n:n)):p?(p=!1,a.result+=M.repeat("\n",n+1)):0===n?k&&(a.result+=" "):a.result+=M.repeat("\n",n):a.result+=M.repeat("\n",k?1+n:n),l=k=!0,n=0,c=a.position;!d(h)&&0!==h;)h=a.input.charCodeAt(++a.position);q(a,c,a.position,!1)}}return!0}function C(a,b){var c,e,g=a.tag,h=a.anchor,i=[],j=!1;for(null!==a.anchor&&(a.anchorMap[a.anchor]=i),e=a.input.charCodeAt(a.position);0!==e&&45===e&&f(a.input.charCodeAt(a.position+1));)if(j=!0,a.position++,u(a,!0,-1)&&a.lineIndent<=b)i.push(null),e=a.input.charCodeAt(a.position);else if(c=a.line,H(a,b,U,!1,!0),i.push(a.result),u(a,!0,-1),e=a.input.charCodeAt(a.position),(a.line===c||a.lineIndent>b)&&0!==e)o(a,"bad indentation of a sequence entry");else if(a.lineIndent<b)break;return!!j&&(a.tag=g,a.anchor=h,a.kind="sequence",a.result=i,!0)}function D(a,b,c){var d,g,h,i,j,k=a.tag,l=a.anchor,m={},n={},p=null,q=null,r=null,t=!1,v=!1;for(null!==a.anchor&&(a.anchorMap[a.anchor]=m),j=a.input.charCodeAt(a.position);0!==j;){if(d=a.input.charCodeAt(a.position+1),h=a.line,i=a.position,63!==j&&58!==j||!f(d)){if(!H(a,c,T,!1,!0))break;if(a.line===h){for(j=a.input.charCodeAt(a.position);e(j);)j=a.input.charCodeAt(++a.position);if(58===j)f(j=a.input.charCodeAt(++a.position))||o(a,"a whitespace character is expected after the key-value separator within a block mapping"),t&&(s(a,m,n,p,q,null),p=q=r=null),g=t=!(v=!0),p=a.tag,q=a.result;else{if(!v)return a.tag=k,a.anchor=l,!0;o(a,"can not read an implicit mapping pair; a colon is missed")}}else{if(!v)return a.tag=k,a.anchor=l,!0;o(a,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===j?(t&&(s(a,m,n,p,q,null),p=q=r=null),g=t=v=!0):t?g=!(t=!1):o(a,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),a.position+=1,j=d;if((a.line===h||a.lineIndent>b)&&(H(a,b,V,!0,g)&&(t?q=a.result:r=a.result),t||(s(a,m,n,p,q,r,h,i),p=q=r=null),u(a,!0,-1),j=a.input.charCodeAt(a.position)),a.lineIndent>b&&0!==j)o(a,"bad indentation of a mapping entry");else if(a.lineIndent<b)break}return t&&s(a,m,n,p,q,null),v&&(a.tag=k,a.anchor=l,a.kind="mapping",a.result=m),v}function E(a){var b,c,d,e,g=!1,h=!1;if(33!==(e=a.input.charCodeAt(a.position)))return!1;if(null!==a.tag&&o(a,"duplication of a tag property"),60===(e=a.input.charCodeAt(++a.position))?(g=!0,e=a.input.charCodeAt(++a.position)):33===e?(h=!0,c="!!",e=a.input.charCodeAt(++a.position)):c="!",b=a.position,g){for(;0!==(e=a.input.charCodeAt(++a.position))&&62!==e;);a.position<a.length?(d=a.input.slice(b,a.position),e=a.input.charCodeAt(++a.position)):o(a,"unexpected end of the stream within a verbatim tag")}else{for(;0!==e&&!f(e);)33===e&&(h?o(a,"tag suffix cannot contain exclamation marks"):(c=a.input.slice(b-1,a.position+1),aa.test(c)||o(a,"named tag handle cannot contain such characters"),h=!0,b=a.position+1)),e=a.input.charCodeAt(++a.position);d=a.input.slice(b,a.position),_.test(d)&&o(a,"tag suffix cannot contain flow indicator characters")}return d&&!ba.test(d)&&o(a,"tag name cannot contain such characters: "+d),g?a.tag=d:R.call(a.tagMap,c)?a.tag=a.tagMap[c]+d:"!"===c?a.tag="!"+d:"!!"===c?a.tag="tag:yaml.org,2002:"+d:o(a,'undeclared tag handle "'+c+'"'),!0}function F(a){var b,c;if(38!==(c=a.input.charCodeAt(a.position)))return!1;for(null!==a.anchor&&o(a,"duplication of an anchor property"),c=a.input.charCodeAt(++a.position),b=a.position;0!==c&&!f(c)&&!g(c);)c=a.input.charCodeAt(++a.position);return a.position===b&&o(a,"name of an anchor node must contain at least one character"),a.anchor=a.input.slice(b,a.position),!0}function G(a){var b,c,d;if(42!==(d=a.input.charCodeAt(a.position)))return!1;for(d=a.input.charCodeAt(++a.position),b=a.position;0!==d&&!f(d)&&!g(d);)d=a.input.charCodeAt(++a.position);return a.position===b&&o(a,"name of an alias node must contain at least one character"),c=a.input.slice(b,a.position),a.anchorMap.hasOwnProperty(c)||o(a,'unidentified alias "'+c+'"'),a.result=a.anchorMap[c],u(a,!0,-1),!0}function H(a,b,c,d,e){var f,g,h,i,j,k,l,m,n=1,p=!1,q=!1;if(null!==a.listener&&a.listener("open",a),a.tag=null,a.anchor=null,a.kind=null,a.result=null,f=g=h=V===c||U===c,d&&u(a,!0,-1)&&(p=!0,a.lineIndent>b?n=1:a.lineIndent===b?n=0:a.lineIndent<b&&(n=-1)),1===n)for(;E(a)||F(a);)u(a,!0,-1)?(p=!0,h=f,a.lineIndent>b?n=1:a.lineIndent===b?n=0:a.lineIndent<b&&(n=-1)):h=!1;if(h&&(h=p||e),1!==n&&V!==c||(l=S===c||T===c?b:b+1,m=a.position-a.lineStart,1===n?h&&(C(a,m)||D(a,m,l))||A(a,l)?q=!0:(g&&B(a,l)||y(a,l)||z(a,l)?q=!0:G(a)?(q=!0,null===a.tag&&null===a.anchor||o(a,"alias node should not have any properties")):x(a,l,S===c)&&(q=!0,null===a.tag&&(a.tag="?")),null!==a.anchor&&(a.anchorMap[a.anchor]=a.result)):0===n&&(q=h&&C(a,m))),null!==a.tag&&"!"!==a.tag)if("?"===a.tag){for(i=0,j=a.implicitTypes.length;i<j;i+=1)if((k=a.implicitTypes[i]).resolve(a.result)){a.result=k.construct(a.result),a.tag=k.tag,null!==a.anchor&&(a.anchorMap[a.anchor]=a.result);break}}else R.call(a.typeMap[a.kind||"fallback"],a.tag)?(k=a.typeMap[a.kind||"fallback"][a.tag],null!==a.result&&k.kind!==a.kind&&o(a,"unacceptable node kind for !<"+a.tag+'> tag; it should be "'+k.kind+'", not "'+a.kind+'"'),k.resolve(a.result)?(a.result=k.construct(a.result),null!==a.anchor&&(a.anchorMap[a.anchor]=a.result)):o(a,"cannot resolve a node with !<"+a.tag+"> explicit tag")):o(a,"unknown tag !<"+a.tag+">");return null!==a.listener&&a.listener("close",a),null!==a.tag||null!==a.anchor||q}function I(a){var b,c,g,h,i=a.position,j=!1;for(a.version=null,a.checkLineBreaks=a.legacy,a.tagMap={},a.anchorMap={};0!==(h=a.input.charCodeAt(a.position))&&(u(a,!0,-1),h=a.input.charCodeAt(a.position),!(0<a.lineIndent||37!==h));){for(j=!0,h=a.input.charCodeAt(++a.position),b=a.position;0!==h&&!f(h);)h=a.input.charCodeAt(++a.position);for(g=[],(c=a.input.slice(b,a.position)).length<1&&o(a,"directive name must not be less than one character in length");0!==h;){for(;e(h);)h=a.input.charCodeAt(++a.position);if(35===h){for(;0!==(h=a.input.charCodeAt(++a.position))&&!d(h););break}if(d(h))break;for(b=a.position;0!==h&&!f(h);)h=a.input.charCodeAt(++a.position);g.push(a.input.slice(b,a.position))}0!==h&&t(a),R.call(fa,c)?fa[c](a,c,g):p(a,'unknown document directive "'+c+'"')}u(a,!0,-1),0===a.lineIndent&&45===a.input.charCodeAt(a.position)&&45===a.input.charCodeAt(a.position+1)&&45===a.input.charCodeAt(a.position+2)?(a.position+=3,u(a,!0,-1)):j&&o(a,"directives end mark is expected"),H(a,a.lineIndent-1,V,!1,!0),u(a,!0,-1),a.checkLineBreaks&&$.test(a.input.slice(i,a.position))&&p(a,"non-ASCII line breaks are interpreted as content"),a.documents.push(a.result),a.position===a.lineStart&&v(a)?46===a.input.charCodeAt(a.position)&&(a.position+=3,u(a,!0,-1)):a.position<a.length-1&&o(a,"end of the stream or a document separator is expected")}function J(a,b){b=b||{},0!==(a=String(a)).length&&(10!==a.charCodeAt(a.length-1)&&13!==a.charCodeAt(a.length-1)&&(a+="\n"),65279===a.charCodeAt(0)&&(a=a.slice(1)));var c=new m(a,b);for(c.input+="\0";32===c.input.charCodeAt(c.position);)c.lineIndent+=1,c.position+=1;for(;c.position<c.length-1;)I(c);return c.documents}function K(a,b,c){var d,e,f=J(a,c);if("function"!=typeof b)return f;for(d=0,e=f.length;d<e;d+=1)b(f[d])}function L(a,b){var c=J(a,b);if(0!==c.length){if(1===c.length)return c[0];throw new N("expected a single document in the stream, but found more")}}for(var M=a("./common"),N=a("./exception"),O=a("./mark"),P=a("./schema/default_safe"),Q=a("./schema/default_full"),R=Object.prototype.hasOwnProperty,S=1,T=2,U=3,V=4,W=1,X=2,Y=3,Z=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,$=/[\x85\u2028\u2029]/,_=/[,\[\]\{\}]/,aa=/^(?:!|!!|![a-z\-]+!)$/i,ba=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i,ca=new Array(256),da=new Array(256),ea=0;ea<256;ea++)ca[ea]=k(ea)?1:0,da[ea]=k(ea);var fa={YAML:function(a,b,c){var d,e,f;null!==a.version&&o(a,"duplication of %YAML directive"),1!==c.length&&o(a,"YAML directive accepts exactly one argument"),null===(d=/^([0-9]+)\.([0-9]+)$/.exec(c[0]))&&o(a,"ill-formed argument of the YAML directive"),e=parseInt(d[1],10),f=parseInt(d[2],10),1!==e&&o(a,"unacceptable YAML version of the document"),a.version=c[0],a.checkLineBreaks=f<2,1!==f&&2!==f&&p(a,"unsupported YAML version of the document")},TAG:function(a,b,c){var d,e;2!==c.length&&o(a,"TAG directive accepts exactly two arguments"),d=c[0],e=c[1],aa.test(d)||o(a,"ill-formed tag handle (first argument) of the TAG directive"),R.call(a.tagMap,d)&&o(a,'there is a previously declared suffix for "'+d+'" tag handle'),ba.test(e)||o(a,"ill-formed tag prefix (second argument) of the TAG directive"),a.tagMap[d]=e}};b.exports.loadAll=K,b.exports.load=L,b.exports.safeLoadAll=function(a,b,c){if("function"!=typeof b)return K(a,M.extend({schema:P},c));K(a,b,M.extend({schema:P},c))},b.exports.safeLoad=function(a,b){return L(a,M.extend({schema:P},b))}},{"./common":2,"./exception":4,"./mark":6,"./schema/default_full":9,"./schema/default_safe":10}],6:[function(a,b,c){"use strict";function d(a,b,c,d,e){this.name=a,this.buffer=b,this.position=c,this.line=d,this.column=e}var e=a("./common");d.prototype.getSnippet=function(a,b){var c,d,f,g,h;if(!this.buffer)return null;for(a=a||4,b=b||75,c="",d=this.position;0<d&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(d-1));)if(d-=1,this.position-d>b/2-1){c=" ... ",d+=5;break}for(f="",g=this.position;g<this.buffer.length&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(g));)if((g+=1)-this.position>b/2-1){f=" ... ",g-=5;break}return h=this.buffer.slice(d,g),e.repeat(" ",a)+c+h+f+"\n"+e.repeat(" ",a+this.position-d+c.length)+"^"},d.prototype.toString=function(a){var b,c="";return this.name&&(c+='in "'+this.name+'" '),c+="at line "+(this.line+1)+", column "+(this.column+1),a||(b=this.getSnippet())&&(c+=":\n"+b),c},b.exports=d},{"./common":2}],7:[function(a,b,c){"use strict";function d(a,b,c){var e=[];return a.include.forEach(function(a){c=d(a,b,c)}),a[b].forEach(function(a){c.forEach(function(b,c){b.tag===a.tag&&b.kind===a.kind&&e.push(c)}),c.push(a)}),c.filter(function(a,b){return-1===e.indexOf(b)})}function f(a){this.include=a.include||[],this.implicit=a.implicit||[],this.explicit=a.explicit||[],this.implicit.forEach(function(a){if(a.loadKind&&"scalar"!==a.loadKind)throw new h("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=d(this,"implicit",[]),this.compiledExplicit=d(this,"explicit",[]),this.compiledTypeMap=function(){var a,b,c={scalar:{},sequence:{},mapping:{},fallback:{}};for(a=0,b=arguments.length;a<b;a+=1)arguments[a].forEach(function(a){c[a.kind][a.tag]=c.fallback[a.tag]=a});return c}(this.compiledImplicit,this.compiledExplicit)}var g=a("./common"),h=a("./exception"),i=a("./type");f.DEFAULT=null,f.create=function(){var a,b;switch(arguments.length){case 1:a=f.DEFAULT,b=arguments[0];break;case 2:a=arguments[0],b=arguments[1];break;default:throw new h("Wrong number of arguments for Schema.create function")}if(a=g.toArray(a),b=g.toArray(b),!a.every(function(a){return a instanceof f}))throw new h("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!b.every(function(a){return a instanceof i}))throw new h("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new f({include:a,explicit:b})},b.exports=f},{"./common":2,"./exception":4,"./type":13}],8:[function(a,b,c){"use strict";var d=a("../schema");b.exports=new d({include:[a("./json")]})},{"../schema":7,"./json":12}],9:[function(a,b,c){"use strict";var d=a("../schema");b.exports=d.DEFAULT=new d({include:[a("./default_safe")],explicit:[a("../type/js/undefined"),a("../type/js/regexp"),a("../type/js/function")]})},{"../schema":7,"../type/js/function":18,"../type/js/regexp":19,"../type/js/undefined":20,"./default_safe":10}],10:[function(a,b,c){"use strict";var d=a("../schema");b.exports=new d({include:[a("./core")],implicit:[a("../type/timestamp"),a("../type/merge")],explicit:[a("../type/binary"),a("../type/omap"),a("../type/pairs"),a("../type/set")]})},{"../schema":7,"../type/binary":14,"../type/merge":22,"../type/omap":24,"../type/pairs":25,"../type/set":27,"../type/timestamp":29,"./core":8}],11:[function(a,b,c){"use strict";var d=a("../schema");b.exports=new d({explicit:[a("../type/str"),a("../type/seq"),a("../type/map")]})},{"../schema":7,"../type/map":21,"../type/seq":26,"../type/str":28}],12:[function(a,b,c){"use strict";var d=a("../schema");b.exports=new d({include:[a("./failsafe")],implicit:[a("../type/null"),a("../type/bool"),a("../type/int"),a("../type/float")]})},{"../schema":7,"../type/bool":15,"../type/float":16,"../type/int":17,"../type/null":23,"./failsafe":11}],13:[function(a,b,c){"use strict";var e=a("./exception"),f=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],g=["scalar","sequence","mapping"];b.exports=function(a,b){if(b=b||{},Object.keys(b).forEach(function(b){if(-1===f.indexOf(b))throw new e('Unknown option "'+b+'" is met in definition of "'+a+'" YAML type.')}),this.tag=a,this.kind=b.kind||null,this.resolve=b.resolve||function(){return!0},this.construct=b.construct||function(a){return a},this.instanceOf=b.instanceOf||null,this.predicate=b.predicate||null,this.represent=b.represent||null,this.defaultStyle=b.defaultStyle||null,this.styleAliases=function(a){var b={};return null!==a&&Object.keys(a).forEach(function(c){a[c].forEach(function(a){b[String(a)]=c})}),b}(b.styleAliases||null),-1===g.indexOf(this.kind))throw new e('Unknown kind "'+this.kind+'" is specified for "'+a+'" YAML type.')}},{"./exception":4}],14:[function(a,b,c){"use strict";var d;try{d=a("buffer").Buffer}catch(a){}var e=a("../type"),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";b.exports=new e("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(a){if(null===a)return!1;var b,c,d=0,e=a.length,g=f;for(c=0;c<e;c++)if(!(64<(b=g.indexOf(a.charAt(c))))){if(b<0)return!1;d+=6}return d%8==0},construct:function(a){var b,c,e=a.replace(/[\r\n=]/g,""),g=e.length,h=f,i=0,j=[];for(b=0;b<g;b++)b%4==0&&b&&(j.push(i>>16&255),j.push(i>>8&255),j.push(255&i)),i=i<<6|h.indexOf(e.charAt(b));return 0==(c=g%4*6)?(j.push(i>>16&255),j.push(i>>8&255),j.push(255&i)):18===c?(j.push(i>>10&255),j.push(i>>2&255)):12===c&&j.push(i>>4&255),d?d.from?d.from(j):new d(j):j},predicate:function(a){return d&&d.isBuffer(a)},represent:function(a){var b,c,d="",e=0,g=a.length,h=f;for(b=0;b<g;b++)b%3==0&&b&&(d+=h[e>>18&63],d+=h[e>>12&63],d+=h[e>>6&63],d+=h[63&e]),e=(e<<8)+a[b];return 0==(c=g%3)?(d+=h[e>>18&63],d+=h[e>>12&63],d+=h[e>>6&63],d+=h[63&e]):2===c?(d+=h[e>>10&63],d+=h[e>>4&63],d+=h[e<<2&63],d+=h[64]):1===c&&(d+=h[e>>2&63],d+=h[e<<4&63],d+=h[64],d+=h[64]),d}})},{"../type":13}],15:[function(a,b,c){"use strict";var d=a("../type");b.exports=new d("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(a){if(null===a)return!1;var b=a.length;return 4===b&&("true"===a||"True"===a||"TRUE"===a)||5===b&&("false"===a||"False"===a||"FALSE"===a)},construct:function(a){return"true"===a||"True"===a||"TRUE"===a},predicate:function(a){return"[object Boolean]"===Object.prototype.toString.call(a)},represent:{lowercase:function(a){return a?"true":"false"},uppercase:function(a){return a?"TRUE":"FALSE"},camelcase:function(a){return a?"True":"False"}},defaultStyle:"lowercase"})},{"../type":13}],16:[function(a,b,c){"use strict";var d=a("../common"),e=a("../type"),f=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),g=/^[-+]?[0-9]+e/;b.exports=new e("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(a){return null!==a&&!(!f.test(a)||"_"===a[a.length-1])},construct:function(a){var b,c,d,e;return c="-"===(b=a.replace(/_/g,"").toLowerCase())[0]?-1:1,e=[],0<="+-".indexOf(b[0])&&(b=b.slice(1)),".inf"===b?1===c?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===b?NaN:0<=b.indexOf(":")?(b.split(":").forEach(function(a){e.unshift(parseFloat(a,10))}),b=0,d=1,e.forEach(function(a){b+=a*d,d*=60}),c*b):c*parseFloat(b,10)},predicate:function(a){return"[object Number]"===Object.prototype.toString.call(a)&&(a%1!=0||d.isNegativeZero(a))},represent:function(a,b){var c;if(isNaN(a))switch(b){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===a)switch(b){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===a)switch(b){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(d.isNegativeZero(a))return"-0.0";return c=a.toString(10),g.test(c)?c.replace("e",".e"):c},defaultStyle:"lowercase"})},{"../common":2,"../type":13}],17:[function(a,b,c){"use strict";function d(a){return 48<=a&&a<=57||65<=a&&a<=70||97<=a&&a<=102}function e(a){return 48<=a&&a<=55}function f(a){return 48<=a&&a<=57}var g=a("../common"),h=a("../type");b.exports=new h("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(a){if(null===a)return!1;var b,c=a.length,g=0,h=!1;if(!c)return!1;if("-"!==(b=a[g])&&"+"!==b||(b=a[++g]),"0"===b){if(g+1===c)return!0;if("b"===(b=a[++g])){for(g++;g<c;g++)if("_"!==(b=a[g])){if("0"!==b&&"1"!==b)return!1;h=!0}return h&&"_"!==b}if("x"===b){for(g++;g<c;g++)if("_"!==(b=a[g])){if(!d(a.charCodeAt(g)))return!1;h=!0}return h&&"_"!==b}for(;g<c;g++)if("_"!==(b=a[g])){if(!e(a.charCodeAt(g)))return!1;h=!0}return h&&"_"!==b}if("_"===b)return!1;for(;g<c;g++)if("_"!==(b=a[g])){if(":"===b)break;if(!f(a.charCodeAt(g)))return!1;h=!0}return!(!h||"_"===b)&&(":"!==b||/^(:[0-5]?[0-9])+$/.test(a.slice(g)))},construct:function(a){var b,c,d=a,e=1,f=[];return-1!==d.indexOf("_")&&(d=d.replace(/_/g,"")),"-"!==(b=d[0])&&"+"!==b||("-"===b&&(e=-1),b=(d=d.slice(1))[0]),"0"===d?0:"0"===b?"b"===d[1]?e*parseInt(d.slice(2),2):"x"===d[1]?e*parseInt(d,16):e*parseInt(d,8):-1!==d.indexOf(":")?(d.split(":").forEach(function(a){f.unshift(parseInt(a,10))}),d=0,c=1,f.forEach(function(a){d+=a*c,c*=60}),e*d):e*parseInt(d,10)},predicate:function(a){return"[object Number]"===Object.prototype.toString.call(a)&&a%1==0&&!g.isNegativeZero(a)},represent:{binary:function(a){return"0b"+a.toString(2)},octal:function(a){return"0"+a.toString(8)},decimal:function(a){return a.toString(10)},hexadecimal:function(a){return"0x"+a.toString(16).toUpperCase()}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},{"../common":2,"../type":13}],18:[function(a,b,c){"use strict";var d;try{d=a("esprima")}catch(a){"undefined"!=typeof window&&(d=window.esprima)}var e=a("../../type");b.exports=new e("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(a){if(null===a)return!1;try{var b="("+a+")",c=d.parse(b,{range:!0});return"Program"===c.type&&1===c.body.length&&"ExpressionStatement"===c.body[0].type&&"FunctionExpression"===c.body[0].expression.type}catch(a){return!1}},construct:function(a){var b,c="("+a+")",e=d.parse(c,{range:!0}),f=[];if("Program"!==e.type||1!==e.body.length||"ExpressionStatement"!==e.body[0].type||"FunctionExpression"!==e.body[0].expression.type)throw new Error("Failed to resolve function");return e.body[0].expression.params.forEach(function(a){f.push(a.name)}),b=e.body[0].expression.body.range,new Function(f,c.slice(b[0]+1,b[1]-1))},predicate:function(a){return"[object Function]"===Object.prototype.toString.call(a)},represent:function(a){return a.toString()}})},{"../../type":13}],19:[function(a,b,c){"use strict";var d=a("../../type");b.exports=new d("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(a){if(null===a)return!1;if(0===a.length)return!1;var b=a,c=/\/([gim]*)$/.exec(a),d="";if("/"===b[0]){if(c&&(d=c[1]),3<d.length)return!1;if("/"!==b[b.length-d.length-1])return!1}return!0},construct:function(a){var b=a,c=/\/([gim]*)$/.exec(a),d="";return"/"===b[0]&&(c&&(d=c[1]),b=b.slice(1,b.length-d.length-1)),new RegExp(b,d)},predicate:function(a){return"[object RegExp]"===Object.prototype.toString.call(a)},represent:function(a){var b="/"+a.source+"/";return a.global&&(b+="g"),a.multiline&&(b+="m"),a.ignoreCase&&(b+="i"),b}})},{"../../type":13}],20:[function(a,b,c){"use strict";var d=a("../../type");b.exports=new d("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(a){return void 0===a},represent:function(){return""}})},{"../../type":13}],21:[function(a,b,c){"use strict";var d=a("../type");b.exports=new d("tag:yaml.org,2002:map",{kind:"mapping",construct:function(a){return null!==a?a:{}}})},{"../type":13}],22:[function(a,b,c){"use strict";var d=a("../type");b.exports=new d("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(a){return"<<"===a||null===a}})},{"../type":13}],23:[function(a,b,c){"use strict";var d=a("../type");b.exports=new d("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(a){if(null===a)return!0;var b=a.length;return 1===b&&"~"===a||4===b&&("null"===a||"Null"===a||"NULL"===a)},construct:function(){return null},predicate:function(a){return null===a},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},{"../type":13}],24:[function(a,b,c){"use strict";var d=a("../type"),e=Object.prototype.hasOwnProperty,f=Object.prototype.toString;b.exports=new d("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(a){if(null===a)return!0;var b,c,d,g,h,i=[],j=a;for(b=0,c=j.length;b<c;b+=1){if(d=j[b],h=!1,"[object Object]"!==f.call(d))return!1;for(g in d)if(e.call(d,g)){if(h)return!1;h=!0}if(!h)return!1;if(-1!==i.indexOf(g))return!1;i.push(g)}return!0},construct:function(a){return null!==a?a:[]}})},{"../type":13}],25:[function(a,b,c){"use strict";var d=a("../type"),e=Object.prototype.toString;b.exports=new d("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(a){if(null===a)return!0;var b,c,d,f,g,h=a;for(g=new Array(h.length),b=0,c=h.length;b<c;b+=1){if(d=h[b],"[object Object]"!==e.call(d))return!1;if(1!==(f=Object.keys(d)).length)return!1;g[b]=[f[0],d[f[0]]]}return!0},construct:function(a){if(null===a)return[];var b,c,d,e,f,g=a;for(f=new Array(g.length),b=0,c=g.length;b<c;b+=1)d=g[b],e=Object.keys(d),f[b]=[e[0],d[e[0]]];return f}})},{"../type":13}],26:[function(a,b,c){"use strict";var d=a("../type");b.exports=new d("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(a){return null!==a?a:[]}})},{"../type":13}],27:[function(a,b,c){"use strict";var d=a("../type"),e=Object.prototype.hasOwnProperty;b.exports=new d("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(a){if(null===a)return!0;var b,c=a;for(b in c)if(e.call(c,b)&&null!==c[b])return!1;return!0},construct:function(a){return null!==a?a:{}}})},{"../type":13}],28:[function(a,b,c){"use strict";var d=a("../type");b.exports=new d("tag:yaml.org,2002:str",{kind:"scalar",construct:function(a){return null!==a?a:""}})},{"../type":13}],29:[function(a,b,c){"use strict";var d=a("../type"),e=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),f=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");b.exports=new d("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(a){return null!==a&&(null!==e.exec(a)||null!==f.exec(a))},construct:function(a){var b,c,d,g,h,i,j,k,l=0,m=null;if(null===(b=e.exec(a))&&(b=f.exec(a)),null===b)throw new Error("Date resolve error");if(c=+b[1],d=+b[2]-1,g=+b[3],!b[4])return new Date(Date.UTC(c,d,g));if(h=+b[4],i=+b[5],j=+b[6],b[7]){for(l=b[7].slice(0,3);l.length<3;)l+="0";l=+l}return b[9]&&(m=6e4*(60*+b[10]+ +(b[11]||0)),"-"===b[9]&&(m=-m)),k=new Date(Date.UTC(c,d,g,h,i,j,l)),m&&k.setTime(k.getTime()-m),k},instanceOf:Date,represent:function(a){return a.toISOString()}})},{"../type":13}],"/":[function(a,b,c){"use strict";var d=a("./lib/js-yaml.js");b.exports=d},{"./lib/js-yaml.js":1}]},{},[])("/")}),a.register("a",["c","b","d"],function(a,b){"use strict";function c(a){la=a.io}function d(a){var b=!1;return a&&a.update&&(a.hasOwnProperty("__updateIndex")||(a.__updateIndex=ta.length,ta.push(a),b=!0)),b}function e(a){var b=void 0,c=ta.length,d=void 0;if("number"==typeof a.__updateIndex){if(0<=(b=a.__updateIndex)&&b<c){var e=c-1;d=ta[e],(ta[b]=d).__updateIndex=b,ta.splice(e,1)}delete a.__updateIndex}}function f(a,b){var c={currentTime:0,func:a,update:function(a){c.currentTime>=b&&(e(c),c.func&&c.func(c.currentTime)),c.currentTime+=a}};return d(c),c}function g(a,b){var c={currentTime:0,func:a,update:function(a){c.currentTime+=a,c.currentTime>=b&&(c.func&&c.func(c.currentTime),c.currentTime=0)}};return d(c),c}function h(a){e(a)}function i(a){a&&a.update&&(ua.push(a),va=!0)}function j(){ta.forEach(function(a){delete a.__updateIndex}),ta=[]}function l(a){var b=.001*performance.now(),c=void 0;a.paused||(wa=(c=wa<0?0:b-wa,b),function(a){va&&(ua.forEach(function(b){b.update(a),b.pause&&b.pause()}),ua=[],va=!1),ta.forEach(function(b){b.update(a)})}(c))}function m(){ya||(ya=!0,(sa=createjs.Ticker).timingMode=sa.TIMEOUT,sa.interval=1e3/60,sa.addEventListener("tick",l),j())}function n(){xa||(xa=!0,wa=-1,sa.paused=!1)}function o(){xa&&(xa=!1,sa.paused=!0)}function p(a,b){var c=a.getBounds(),d=a.graphics;if(!d){var e=a.anchor;d=new b.Graphics,a.graphics=d,a.addChild(d),d.x=0,d.y=0,d.lineStyle(1,16777215,1),d.beginFill(65280,.15),d.drawRect(-c.width*e.x,-c.height*e.y,c.width,c.height),d.endFill()}}function q(a){return function(a){function b(a){ka(this,b);var c=pa(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,!1));return c.cloneIndex=0,c}return qa(b,a),oa(b,[{key:"clone",value:function(){this.cloneIndex+=1}},{key:"addToScene",value:function(a){a.addChild(this)}},{key:"removeFromScene",value:function(){this.parent&&this.parent.removeChild(this)}}]),b}(a)}function B(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"#000000";return PIXI.Texture.Draw(function(a){a.height=b?(a.width=b.width||140,b.height||40):(a.width=100,24);var d=a.getContext("2d");d.strokeStyle=c,d.strokeRect(0,0,a.width,a.height),d.fillStyle="#FFFFFF",d.fillRect(0,0,2,2),d.fillRect(a.width-2,0,2,2),d.fillRect(0,a.height-2,2,2),d.fillRect(a.width-2,a.height-2,2,2),d.beginPath(),d.lineCap="round",d.moveTo(0,0),d.lineTo(a.width,a.height),d.moveTo(a.width,0),d.lineTo(0,a.height),d.stroke(),d.fillStyle="#FFFFFF";var e=a.width/2,f=a.height/2;d.fillRect(e,f,2,2)})}function C(a){wb.objectFactory[vb.INFO]=zb,wb.objectFactory[vb.GROUP]=Db,wb.objectFactory[vb.SCROLLBAR]=Fb,wb.objectFactory[vb.BACKGROUND]=Gb,wb.objectFactory[vb.TEXT]=Eb,wb.objectFactory[vb.IMAGE]=Hb,wb.objectFactory[vb.ANMIMATION]=Ib,wb.objectFactory[vb.NUMBER]=Jb,wb.objectFactory[vb.BUTTON]=Kb,wb.objectFactory[vb.SPINE]=Bb,wb.objectFactory[vb.PARTICLE]=Ab,(nb=a.dragon)&&(wb.objectFactory[vb.BONE]=Cb)}function D(a){wb.objectFactory[a.type]=a.create}function E(a){var c=wb.event,d=void 0,e=void 0;if(wb.isBusy)return!1;wb.isBusy=!0,wb.game=a.game;var f=a.filename,g=a.proc,h=a.callback,i=a.finish,j=[],k=0,l=function(a){var b=h[k];b&&b(a),0!==k&&c.resEnd&&c.resEnd(k),(k+=1)<j.length?(c.resBegin&&c.resBegin(k),e()):d()};return d=function(){wb.isBusy=!1,i&&i()},e=function(){var b,a=void 0,c=void 0;a=g[k],b=j[k];try{c=ia.load(b),a&&(wb.baseIndex+=1,wb.baseProgress=wb.baseIndex/wb.baseMax*100,a(c,l))}catch(a){}},!!Array.isArray(f)&&(!!Array.isArray(g)&&(!!Array.isArray(h)&&(f.length===g.length&&(function(){c.sceneResBegin&&c.sceneResBegin("config"),wb.baseIndex=0,wb.baseProgress=0,wb.baseMax=1+f.length,wb.baseProgress=wb.baseIndex/wb.baseMax*100,wb.base=1/wb.baseMax;var a=new ha(wb.baseURL);f.forEach(function(b,c){a.add(c.toString(),b)}),a.onProgress.once(function(a){var b=a.progress;100<b&&(b=100);var d=wb.baseProgress+b*wb.base;c.sceneResLoading&&c.sceneResLoading({currentProgress:b,currentLength:f.length,totalProgress:d,state:wb.state})}),a.load(function(a,d){Object.getOwnPropertyNames(d).forEach(function(a){var b=parseInt(a);j[b]=d[a].data}),c.sceneResEnd&&c.sceneResEnd("config"),k=0,e()})}(),!0))))}function F(a){var c=wb.event,d=void 0,e=void 0;if(wb.isBusy)return!1;wb.isBusy=!0,wb.game=a.game;var f=a.objData,g=a.proc,h=a.callback,i=a.finish,j=0,k=function(a){var b=h[j];b&&b(a),0!==j&&c.resEnd&&c.resEnd(j),(j+=1)<f.length?(c.resBegin&&c.resBegin(j),e(j)):d()};return d=function(){wb.isBusy=!1,i&&i()},e=function(a){var c,b=void 0;b=g[a],c=f[a],wb.baseIndex=a,wb.baseProgress=wb.baseIndex/wb.baseMax*100,b&&c&&b(c,k)},!(!Array.isArray(f)||!Array.isArray(g)||!Array.isArray(h)||f.length!==g.length||(wb.baseIndex=0,wb.baseProgress=0,wb.baseMax=f.length,wb.base=1/wb.baseMax,e(j=0),0))}function G(a){var b=wb.event;b.sceneResEnd=a?(b.resBegin=a.resBegin||b.resBegin,b.resEnd=a.resEnd||b.resEnd,b.sceneResBegin=a.sceneResBegin||b.sceneResBegin,b.sceneResLoading=a.sceneResLoading||b.sceneResLoading,a.sceneResEnd||b.sceneResEnd):(b.resBegin=null,b.resEnd=null,b.sceneResBegin=null,b.sceneResLoading=null)}function H(a){wb.state=a}function I(a,b){"object"==typeof a.particle&&mb.setConfigMap(a.particle),b(a)}function J(a,b){var c=wb.event,e={},f=b,g=function(a){var b=a.progress;100<b&&(b=100);var e={currentProgress:b,totalProgress:wb.baseProgress+b*wb.base,state:wb.state};c.sceneResLoading&&c.sceneResLoading(e)},h=function(b){var d={};if(b){var e=b.resources;(function a(b,c,d){var e=Object.getOwnPropertyNames(b),f=void 0;e.forEach(function(e){var g=b[e];"string"==typeof g?c[e]=d(g):Array.isArray(g)?(function(a,b,c){a.forEach(function(a){b.push(c(a))})}(g,f=[],d),c[e]=f):"object"==typeof g&&(a(g,f={},d),c[e]=f)})})(a.spines,d,function(a){return e[a].spineData}),c.sceneResEnd&&c.sceneResEnd("spine"),wb.spines=d,f(d)}else f(d)},i=function(a){e[a]=a};!function(){if(c.sceneResBegin&&c.sceneResBegin("spine"),a&&a.spines){!function a(b,c){Object.getOwnPropertyNames(b).forEach(function(d){var e=b[d];"string"==typeof e?c(e):Array.isArray(e)?function(a,b){a.forEach(function(a){b(a)})}(e,c):"object"==typeof e&&a(e,c)})}(a.spines,i);var b=Object.getOwnPropertyNames(e);if(0===b.length)h();else{var f=new PIXI.loaders.Loader(wb.baseURL);b.forEach(function(a){f.add(a,a)}),f.on?(f.on("progress",g),f.once("complete",h),f.load()):(f.onProgress.add(g),f.load(h))}}else h()}()}function K(a,b){var c=wb.event,d={},e=b,f=function(a){var b=a.progress;100<b&&(b=100),b=wb.baseProgress+b*wb.base,c.sceneResLoading&&c.sceneResLoading({current:b,length:100,state:wb.state})},g=function(b){var d=null;if(nb&&(d=new nb.dragonBones.PixiFactory),b){var f=b.resources,i=function(a,b,c){a.forEach(function(a){b.push(c(a))})};i(a.bones.data,[],function(a){var b=f[a].data;return d&&d.parseDragonBonesData(b),b});i(a.bones.resource,[],function(a){var b=f[a.atlas]&&f[a.atlas].data;if(b=JSON.parse(b),d){var e=xb(a.texture.group)[a.texture.name];d.parseTextureAtlasData(b,e)}return b}),c.sceneResEnd&&c.sceneResEnd("bones"),wb.bonesFactory=d,cb.setFactory(d),e(d)}else e(d)},h=function(a){d[a]=a},i=function(a){d[a.atlas]=a.atlas},j=function(a,b){a.forEach(function(a){b(a)})};!function(){if(c.sceneResBegin&&c.sceneResBegin("bones"),a&&a.bones&&a.bones.data){(function a(b,c){Object.getOwnPropertyNames(b).forEach(function(d){var e=b[d];"string"==typeof e?c(e):Array.isArray(e)?j(e,c):"object"==typeof e&&a(e,c)})})(a.bones.data,h),j(a.bones.resource,i);var b=Object.getOwnPropertyNames(d);if(0===b.length)g();else{var e=new PIXI.loaders.Loader(wb.baseURL);b.forEach(function(a){e.add(a,a)}),e.on?(e.on("progress",f),e.once("complete",g),e.load()):(e.onProgress.add(f),e.load(g))}}else g()}()}function L(a,b){var h,c=a.objects,d=wb.objectFactory,e=void 0,f=[],g=0,i=wb.event,j=[];i.sceneResBegin&&i.sceneResBegin("object"),h=c.length,c.forEach(function(a){var b=d[a.type];b?(e=b(a,wb.game))&&f.push(e):j.push(a);var c=(g+=1)/h*100,l={currentProgress:c,totalProgress:wb.baseProgress+c*wb.base,state:wb.state};i.sceneResLoading&&i.sceneResLoading(l)}),i.sceneResEnd&&i.sceneResEnd("object"),b&&b(f,j)}function M(a,b){var c={},d=!1,e={},f=wb.event,g={};wb.textures=null;var h=0,i={currentProgress:0,totalProgress:wb.baseProgress,state:wb.state};f.sceneResLoading&&f.sceneResLoading(i);var j=function(a){var b=a.progress;100<b&&(b=100);var d={currentProgress:b,totalProgress:0<h?100*h+wb.baseProgress+b*h:wb.baseProgress+b*wb.base,state:wb.state};f.sceneResLoading&&f.sceneResLoading(d)},k=function(){var d=function(a){var b=PIXI.Texture.fromImage(wb.baseURL+a,!0);return b.baseTexture.scaleMode=PIXI.SCALE_MODES.NEAREST,b},e=function(a,b,c){a.forEach(function(a){b.push(c(a))})},g=function a(b,c,d){var f=Object.getOwnPropertyNames(b),g=void 0;f.forEach(function(f){var h=b[f];"string"==typeof h?c[f]=d(h):Array.isArray(h)?(e(h,g=[],d),c[f]=g):"object"==typeof h&&(a(h,g={},d),c[f]=g)})};Object.getOwnPropertyNames(a.images).forEach(function(b){var f,h=c[b];f=a.images[b],Array.isArray(f)?h?e(f,h,d):(e(f,h=[],d),c[b]=h):"object"==typeof f?h?g(f,h,d):(g(f,h={},d),c[b]=h):"string"==typeof f&&(c[b]=d(f))}),f.sceneResEnd&&f.sceneResEnd(qb),wb.textures=c,b&&b(c)},l=function(a){var b=a.progress;100<b&&(b=100);var d={currentProgress:b,totalProgress:0<h?wb.baseProgress+b*h:wb.baseProgress+b*wb.base,state:wb.state};f.sceneResLoading&&f.sceneResLoading(d)},m=null,n=function(){f.sceneResEnd&&f.sceneResEnd("asset"),m(a)},o=function(a){e[a]=a},p=function(a,b){a.forEach(function(a){b(a)})},r=function(a){return PIXI.Texture.fromFrame(a)},s=function(a,b,c){a.forEach(function(a){b.push(c(a))})},t=function a(b,c,d){Object.getOwnPropertyNames(b).forEach(function(e){var f=b[e],g=[];"string"==typeof f?c[e]=d(f):Array.isArray(f)?(s(f,g,d),c[e]=g):"object"==typeof f&&(c[e]=g,a(f,g,d))})};if(m=function(a){var h=void 0;if(a.images){Object.getOwnPropertyNames(a.images).forEach(function(b){var c;c=a.images[b],Array.isArray(c)?p(c,o):"object"==typeof c?function a(b,c){b&&Object.getOwnPropertyNames(b).forEach(function(d){var e=b[d];"string"==typeof e?c(e):Array.isArray(e)?p(e,c):"object"==typeof e&&a(e,c)})}(c,o):"string"==typeof c&&o(c)}),h=Object.getOwnPropertyNames(e),f.sceneResBegin&&f.sceneResBegin(qb);var l=new PIXI.loaders.Loader(wb.baseURL);h.forEach(function(a){l.add(a,a)}),l.on?(l.on("progress",j),l.once("complete",k),l.load()):(l.onProgress.add(j),l.load(k))}else d=!0;a.frames&&Object.getOwnPropertyNames(a.frames).forEach(function(b){var d,e=c[b];d=a.frames[b],Array.isArray(d)?e?s(d,e,r):(s(d,e=[],r),c[b]=e):"object"==typeof d?e?t(d,e,r):(t(d,e=[],r),c[b]=e):"string"==typeof d&&(c[b]=r(d))}),d&&(wb.textures=c,b&&b(c))},a&&Array.isArray(a.assets)){a.images&&(h=.5*wb.base),f.sceneResBegin&&f.sceneResBegin("asset");var u=new PIXI.loaders.Loader(wb.baseURL);a.assets.forEach(function(a){u.add(wb.baseURL+a)}),u.on?(u.on("progress",l),u.once("complete",n),u.load()):(u.onProgress.add(l),u.load(n))}else m(a),g.textures=c;return g}function N(a){wb.textures=a}function O(a){wb.spines=a}function P(a){wb.baseURL=a||""}function Q(){return wb.baseURL}function R(a,b){var c=a,d=void 0;return b.split(".").every(function(a){return!!(d=c[a])&&(c=d,!0)}),c}function S(a,b){var c=void 0,d=void 0,e=0,f=0,g=void 0,h=wb.event,i={},j=wb.soundMapList;if(!Howl||!a.sounds)return b&&b(null),!1;d=Object.getOwnPropertyNames(a.sounds),h.sceneResBegin&&h.sceneResBegin("sound");var k=0,l=0;return e=0,d.forEach(function(b){var d={};g=a.sounds[b],f=g.length,l+=f,g.forEach(function(a){Array.isArray(a.config.src)&&(a.config.src=a.config.src.map(function(a){return wb.baseURL+a})),c=new Howl(a.config),d[a.objName]=c,k=(e+=1)/l*100;var b=wb.baseProgress+k*wb.base,f={currentProgress:k,totalProgress:b,state:wb.state};h.sceneResLoading&&h.sceneResLoading(f)}),0<g.length?i[b]=d:i[b]=null}),h.sceneResEnd&&h.sceneResEnd("sound"),j.push(i),b&&b(i),!0}function T(a){Object.getOwnPropertyNames(a).forEach(function(b){var c=a[b];c&&c.stop?(c.stop(),c.unload()):T(c),delete a[b]})}function U(){wb.soundMapList.forEach(function(a){Object.getOwnPropertyNames(a).forEach(function(b){T(a[b]),delete a[b]})})}function V(a,b){if(Mb.isBusy||!Mb.game||!Array.isArray(a))return!1;var c=Mb.game,d=Mb.loading,e=0,f=a.length,g=void 0,h=void 0,i=b,j=a;return H(Mb.state),g=function(){if(e<f){var b=j[e].scene;e+=1,b?h(b):g()}else Mb.isBusy=!1,Mb.useLobbyState||d&&d.setState(!0),i&&i()},h=function(a){Mb.state.currentIndex=e,Mb.state.totals=f,Mb.useLobbyState?!a.isCreate()&&a.createScene?a.createScene(g):g():!a.isCreate()&&a.createScene?d.go({game:c,layer:c.layer&&c.layer.overlay,load:function(b){a.createScene(b)},resourceFinish:g}):g()},Mb.isBusy=!0,g(),!0}function W(a){(Mb.useLobbyState=a)&&Mb.game&&Mb.game.scene?G(Mb.game.scene.loadingEvent):Mb.useLobbyState=!1}function X(a){Mb.game=a}function Y(a){Mb.loading=a}function Z(a){Pb&&Pb(a)}function $(a){return"object"==typeof a&&(Ob.init=a.init,Ob.release=a.release,Ob.resource=a.resource,Ob.eventResBegin=a.resBegin,Ob.eventResCheck=a.resCheck,Ob.eventResEnd=a.resEnd,Ob.eventStart=a.start,Ob.eventEnter=a.enter,Ob.eventLeave=a.leave,Qb=a.finish),Ob.init&&Ob.init(),Pb=Rb.frameStart,!0}function _(a){Tb.state=a}function aa(a){Tb.strings=a}function ba(a){Tb.resList=a,Tb.isInit=!1}function ca(a){var b=a.loadingEvent||{},c=a.resourceFinish||null,d=a.game,e=Tb.strings;G({resBegin:function(a){b.resBegin&&b.resBegin(a),Tb.percent&&(Tb.percent.text="0%")},resEnd:function(a){b.resEnd&&b.resEnd(a)},sceneResBegin:function(a){e&&e.get&&e.get(a),b.sceneResBegin&&b.sceneResBegin(a)},sceneResLoading:function(a){var c=a.state,d=a.totalProgress;c&&(d=(c.currentIndex-1)/c.totals*100+d/c.totals);var e=d.toFixed(0)+"%";b.sceneResLoading&&b.sceneResLoading(a),Tb.percent&&(Tb.percent.text=e)},sceneResEnd:function(a){e&&e.get&&e.get(a),b.sceneResEnd&&b.sceneResEnd(a)}});var f={name:"loading",screen:{width:d.screen&&d.screen.width||1024,height:d.screen&&d.screen.height||768},movieClip:null,layer:a.layer||null,load:a.load,init:function(){if(!Tb.isInit){Tb.isInit=!0;var a=Tb.resList,b=void 0,c=[];a.forEach(function(a){b=PIXI.Texture.fromImage(a),c.push(b)});var e=new PIXI.extras.AnimatedSprite(c);e.animationSpeed=.33,Tb.scene.anim=e;var g=new PIXI.Text("message");g.style.fill="#FFFFFF",g.style.stroke="#006600",g.style.strokeThickness=1,g.anchor.x=.5,g.anchor.y=.5,g.x=0,g.y=-44,Tb.message=g;var h=new PIXI.Text("init");h.style.fill="#FFFFFF",h.style.stroke="#aa0000",h.style.strokeThickness=1,h.anchor.x=.5,h.anchor.y=.5,h.x=0,h.y=24,Tb.percent=h,e.addChild(g),e.addChild(h),Tb.pos=new PIXI.Point(f.screen.width/2,f.screen.height/2),Tb.anchor=new PIXI.Point(.5,.5)}d.addRefresh(f.name,Z)},release:function(){null!==f.layer&&null!==Tb.scene.anim&&f.layer.removeChild(Tb.scene.anim),d.removeRefresh(f.name)},resource:function(){f.load?f.load(c):c&&c()},resBegin:function(){},resCheck:function(){return Tb.state},resEnd:function(){},start:function(){if(null!==f.layer&&null!==Tb.scene.anim){var a=Tb.scene.anim;a.x=Tb.pos.x,a.y=Tb.pos.y,a.anchor.x=Tb.anchor.x,a.anchor.y=Tb.anchor.y,a.alpha=0,a.gotoAndPlay(0),f.layer.addChild(a)}},enter:function(){var a=!1,b=Tb.scene.anim;return null!==b?1<=b.alpha?(b.alpha=1,a=!0):b.alpha+=.05:a=!0,a},leave:function(){var a=!1,b=Tb.scene.anim;return null!==b?(b.alpha<=0&&(a=!(b.alpha=0)),b.alpha-=.05,b.alpha<=0&&(b.alpha=0)):a=!0,a},finish:function(){}};return Tb.event=f,Tb.state=!1,$(Tb.event)}function ea(a){(function(a){!Wb&&(Xb=a.Stats,Wb=!0)})(a),C(a)}function fa(a){var b={width:800,height:600,resolution:1,antialias:!1,transparent:!0},c=!1,d={};a&&(b.width=a.width||800,b.height=a.height||600,b.resolution=a.resolution||1,b.transparent=a.transparent,b.antialias=a.antialias,a.event&&(d.create=a.event.create,d.play=a.event.play,d.pause=a.event.pause,d.enter=a.event.enter,d.leave=a.event.leave,d.focus=a.event.focus,d.blur=a.event.blur,d.lock=a.event.lock,d.fullscreen=a.event.fullscreen,d.music=a.event.music,d.sound=a.event.sound),c=a.skipGameEngine);var e=void 0;if(c?e={_pause:!0,isPause:function(){return e._pause},play:function(){e._pause&&(e._pause=!1)},pause:function(){e._pause||(e._pause=!0)}}:(e=new Yb).init(a),d=e.event||d,window.parent&&window.parent!==window){var f=void 0,g=void 0;if(window.Howl=window.parent.Howl,window.Howler=window.parent.Howler,window.parent.scene){var h=a.id;f=window.parent.scene[h],Object.defineProperty(e,"scene",{value:f}),f&&f.event&&(g={create:function(a){window.parent.lobby&&(e.table=window.parent.lobby.table[a.id],e.currentUser=window.parent.lobby.currentUser,e.command=window.parent.lobby.net.gameCommand,e.lobby={setEvent:window.parent.lobby.setEvent,setCommand:window.parent.lobby.net.setLobbyCommand,CMD:window.parent.lobby.net.CMD}),a.game=e,d.create&&d.create(a)},play:function(a){e.play(),d.play&&d.play(a)},pause:function(a){e.pause(),d.pause&&d.pause(a)},enter:function(a){d.enter&&d.enter(a)},leave:function(a){d.leave&&d.leave(a)},focus:function(){d.focus&&d.focus()},blur:function(){d.blur&&d.blur()},lock:function(a){d.lock&&d.lock(a)},fullscreen:function(a){d.fullscreen&&d.fullscreen(a)},music:function(a){d.music&&d.music(a)},sound:function(a){d.sound&&d.sound(a)}},f.setEvent(g),f.game=e,f.graphReady&&f.graphReady())}}return e}function ga(a){var b=a,d=b.plugin||[];return Array.isArray(d)||(d=[]),new Promise(function(a){gc&&a("!! init finish again !!"),function e(f){if(f&&f.Spine&&(PIXI.spine=f),0<d.length){var g=d.shift();SystemJS.import(g).then(e)}else b.PIXI&&(function(a){var b=a.PIXI;Ta=function(a){function c(a){ka(this,c);var d=pa(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a.textures||[b.Texture.EMPTY],!1)),e=d;return e._game=a.game,e.conf=a.conf,e.type=Sa,e.name=a.name,e.objName=a.objName||null,e.isInScene=a.isInScene,a.pos&&(e.x=a.pos.x,e.y=a.pos.y),a.anchor&&(e.anchor.x=a.anchor.x||0,e.anchor.y=a.anchor.y||0),e.loop=a.loop,"number"==typeof a.speed&&(e.animationSpeed=a.speed),d}return qa(c,a),oa(c,null,[{key:"TYPE",get:function(){return Sa}}]),oa(c,[{key:"clone",value:function(a){Pa(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"clone",this).call(this);var b={game:a||this._game,conf:this.conf,isInScene:this.isInScene,name:this.name+".clone."+this.cloneIndex,loop:this.loop,speed:this.animationSpeed,pos:this.position,anchor:this.anchor,textures:this.textures};return new Ta(b)}},{key:"removeFromScene",value:function(){Pa(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"removeFromScene",this).call(this),this._game&&this._game.removeUpdate(this)}},{key:"addToScene",value:function(a){a.addChild(this),this.playing&&this._game&&this._game.addUpdate(this)}},{key:"play",value:function(){this._game&&this._game.addUpdate(this),Pa(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"play",this).call(this)}},{key:"stop",value:function(){this._game&&this._game.removeUpdate(this),Pa(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"stop",this).call(this)}},{key:"update",value:function(a){Pa(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"update",this).call(this,60*a)}}]),c}(q(b.extras.AnimatedSprite))}(b),function(a){var b=a.PIXI;Va=function(a){function c(a){ka(this,c);var d=pa(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a.texture&&a.texture.leave||b.Texture.EMPTY)),e=d;e._game=a.game,e.type=Ua,e.conf=a.conf,e.objName=a.objName||null,e.name=a.name,e.isInScene=a.isInScene,a.pos&&(e.x=a.pos.x,e.y=a.pos.y),a.anchor&&(e.anchor.x=a.anchor.x||0,e.anchor.y=a.anchor.y||0),e.scale.x=1,e.buttonMode=!0,e.interactive=!0;var f={};return(e.custom=f).texture=a.texture||{enter:b.Texture.EMPTY,leave:b.Texture.EMPTY,press:b.Texture.EMPTY,disable:b.Texture.EMPTY},f.isPress=!1,f.flagDrag=!1,f.canMove=!1,f.timer=null,f.obj=null,e.touchstart=e.mousedown=function(a){f.flagDrag&&f.timer&&(e.dragEvent&&(e.dragEvent.curTimes=e.dragEvent.times,e.dragEvent.reset&&e.dragEvent.reset()),f.timer.restart()),e.eventPress(a)},e.touchend=e.mouseup=function(a){f.canMove=!1,f.flagDrag&&e.dragEvent&&e.dragEvent.reset&&e.dragEvent.reset(),e.eventRelease(a)},e.mouseover=function(a){f.flagDrag&&e.dragEvent&&e.dragEvent.reset&&e.dragEvent.reset(),e.eventEnter(a)},e.mouseout=function(a){f.canMove=!1,f.flagDrag&&e.dragEvent&&e.dragEvent.reset&&e.dragEvent.reset(),e.eventLeave(a)},e.touchendoutside=e.mouseupoutside=function(a){f.flagDrag&&e.dragEvent&&e.dragEvent.reset&&e.dragEvent.reset(),e.eventLeave(a)},d}return qa(c,a),oa(c,null,[{key:"TYPE",get:function(){return Ua}}]),oa(c,[{key:"clone",value:function(a){Pa(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"clone",this).call(this);var b={game:a||this._game,conf:this.conf,isInScene:this.isInScene,name:this.name+".clone."+this.cloneIndex,pos:this.position,anchor:this.anchor,texture:this.custom.texture};return new Va(b)}},{key:"setTexture",value:function(a){var c=this.custom.texture;c.enter=a.enter||b.Texture.EMPTY,c.leave=a.leave||b.Texture.EMPTY,c.press=a.press||b.Texture.EMPTY,c.disable=a.disable||b.Texture.EMPTY,this.update()}},{key:"setClick",value:function(a,b){this.eventClick=a,this.obj=b}},{key:"eventPress",value:function(){var a=this,b=a.custom.texture;a.texture=b.press,a.custom.isPress=!0}},{key:"eventRelease",value:function(){var a=this,b=a.custom.texture;a.custom.isPress?(a.texture=b.leave,"function"==typeof a.eventClick&&a.eventClick(a,a.obj)):a.texture=b.leave,a.custom.isPress=!1}},{key:"eventEnter",value:function(){var a=this,b=a.custom.texture;a.custom.isPress?a.texture=b.press:a.texture=b.enter}},{key:"eventLeave",value:function(){var a=this,b=a.custom.texture;a.texture=b.leave,a.custom.isPress=!1}},{key:"setDragEnable",value:function(a){var b=this,c=b.custom;c.flagDrag=!0,b.mousemove=b.touchmove=function(a){if(c.canMove){c.isPress=!1;var d={x:parseInt(a.data.global.x),y:parseInt(a.data.global.y)};b.x=d.x,b.y=d.y}},b.dragEvent=a,b.dragEvent||(b.dragEvent={},b.dragEvent.times=10),b.dragEvent.curTimes=b.dragEvent.times}},{key:"setDragDisable",value:function(){var a=this;a.custom.flagDrag=!1,a.mousemove=a.touchmove=null}},{key:"setEnable",value:function(a,b){a?this.enable(b):this.disable(b)}},{key:"enable",value:function(a){this.interactive=!0;var b=this.custom.texture;a&&(this.texture=b.leave)}},{key:"isEnabled",value:function(){return this.interactive}},{key:"disable",value:function(a){this.interactive=!1;var b=this.custom.texture;a&&(this.texture=b.disable)}},{key:"update",value:function(){var a=this.custom.texture;this.interactive?this.texture=a.leave:this.texture=a.disable}}]),c}(q(b.Sprite))}(b),function(a){var b=a.PIXI;Xa=function(a){function b(a){ka(this,b);var c=pa(this,(b.__proto__||Object.getPrototypeOf(b)).call(this)),d=c;return d._game=a.game,d.conf=a.conf,d.type=Wa,d.name=a.name,d.objName=a.objName||null,d.isInScene=a.isInScene,d.childList=[],a.pos&&(d.x=a.pos.x||0,d.y=a.pos.y||0),a.pivot&&(d.pivot.x=a.pivot.x||0,d.pivot.y=a.pivot.y||0),c}return qa(b,a),oa(b,null,[{key:"TYPE",get:function(){return Wa}}]),oa(b,[{key:"clone",value:function(a){Pa(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"clone",this).call(this);var c=null;this.conf&&this.conf.childList&&(c=this.conf.childList);var d={game:a||this._game,childList:c,isInScene:this.isInScene,name:this.name+".clone."+this.cloneIndex,pivot:this.pivot,pos:this.position};return Db(d,this._game)}},{key:"removeFromScene",value:function(){Pa(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"removeFromScene",this).call(this),this.stop()}},{key:"stop",value:function(){this.childList.forEach(function(a){a.stop&&a.stop()})}}]),b}(q(b.Container))}(b),function(a){var b=a.PIXI;Za=function(a){function c(a){ka(this,c);var d=pa(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a.texture||b.Texture.EMPTY)),e=d;return e._game=a.game,e.conf=a.conf,e.type=Ya,e.name=a.name,e.objName=a.objName,e.isInScene=a.isInScene,a.pos&&(e.x=a.pos.x,e.y=a.pos.y),a.anchor&&(e.anchor.x=a.anchor.x||0,e.anchor.y=a.anchor.y||0),d}return qa(c,a),oa(c,null,[{key:"TYPE",get:function(){return Ya}}]),oa(c,[{key:"clone",value:function(a){Pa(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"clone",this).call(this);var b={game:a||this._game,conf:this.conf,isInScene:this.isInScene,name:this.name+".clone."+this.cloneIndex,pos:this.position,anchor:this.anchor,alpha:this.alpha,texture:this.texture};return new Za(b)}}]),c}(q(b.Sprite))}(b),function(a){var b=a.PIXI;fb=function(a){function c(a){ka(this,c);var d=pa(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a.background||b.Texture.EMPTY)),e=d,f=void 0;e._game=a.game,e.conf=a.conf,e.type=db,e.name=a.name,e.objName=a.objName,e.isInScene=a.isInScene;var g={},h={};g.rect=h,g.event={},e.custom=g,h.pos=new b.Point(0,0),h.anchor=new b.Point(0,0),h.width=a.width||64,h.height=a.height||16,a.rect&&(a.rect.pos&&(h.x=a.rect.pos.x,h.y=a.rect.pos.y),a.rect.anchor&&(h.anchor.x=a.rect.anchor.x,h.anchor.y=a.rect.anchor.y),h.width=a.rect.width||h.width,h.height=a.rect.height||h.height),g.textureName=a.textureName||"",g.numCounts=a.numCounts||4,g.charMap=a.charMap||eb.CHAR_MAP,g.shift=1,"number"==typeof a.shift&&(g.shift=a.shift),g.enable=!1,g.display=a.display||eb.DISPLAY.TRANSVERSE,g.alignType=a.alignType||eb.ALIGN_TYPE.RECT,g.offsetType=a.offsetType||eb.OFFSET_TYPE.STATIC,g.horiType=a.horiType||eb.HORI_ALIGN.LEFT,g.vertiType=a.vertiType||eb.VERTI_ALIGN.TOP,g.alpha=1,g.anchor={x:0,y:0},a.anchor&&(g.anchor.x=a.anchor.x,g.anchor.y=a.anchor.y),g.lastCnt=0,g.value=0,g.currentValue=0,g.targetValue=0,g.offsetValue=0,g.background=a.background||b.Texture.EMPTY,g.autoHide=a.autoHide,g.useComma=a.useComma,g.useMoney=a.useMoney,g.useDash=a.useDash,"number"==typeof a.fixVal?g.fixVal=a.fixVal:g.fixVal=0,a.pos&&(e.x=a.pos.x,e.y=a.pos.y),a.pivot&&(e.pivot.x=a.pivot.x,e.pivot.y=a.pivot.y),g.numTe=[],g.numSprite=[];var l,j=void 0,k=void 0,m=void 0,n=void 0,o=void 0,p=void 0;for(p=g.charMap.length,j=0;j<p;j+=1)o=g.charMap[j],k=g.textureName+o,g.numTe[o]=b.Texture.fromFrame(k);for(m=(l=g.numTe[g.charMap[0]]).frame,g.offset=a.offset||m.width,g.symbolOffset=-1,"number"==typeof a.symbolOffset&&(g.symbolOffset=a.symbolOffset),p=g.numCounts,j=0;j<p;j+=1)f=new b.Texture(l,m.clone()),(n=new b.Sprite(f)).anchor.x=g.anchor.x,n.anchor.y=g.anchor.y,g.numSprite[j]=n;return e._eventUpdate=e._animChange,d}return qa(c,a),oa(c,null,[{key:"TYPE",get:function(){return db}},{key:"NUM",get:function(){return eb}}]),oa(c,[{key:"clone",value:function(a){Pa(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"clone",this).call(this);var b=this.custom,d={game:a||this._game,conf:this.conf,isInScene:this.isInScene,name:this.name+".clone."+this.cloneIndex,pos:this.position,pivot:this.pivot,anchor:b.anchor,rect:b.rect,display:b.display,alignType:b.alignType,offsetType:b.offsetType,horiType:b.horiType,vertiType:b.vertiType,textureName:b.textureName,numCounts:b.numCounts,charMap:b.charMap,offset:b.offset,symbolOffset:b.symbolOffset,shift:b.shift,background:b.background,autoHide:b.autoHide,fixVal:b.fixVal,useComma:b.useComma,useDash:b.useDash,useMoney:b.useMoney};return new fb(d)}},{key:"removeFromScene",value:function(){Pa(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"removeFromScene",this).call(this),this._game.removeUpdate(this)}},{key:"transverse",value:function(){this.setDisplay(eb.DISPLAY.TRANSVERSE)}},{key:"straight",value:function(){this.setDisplay(eb.DISPLAY.TRANSVERSE)}},{key:"setDisplay",value:function(a){if(a===eb.DISPLAY.TRANSVERSE)this.display=a;else{if(a!==eb.DISPLAY.STRAIGHT)return;this.display=a}this.setAlign(this.horiType,this.vertiType)}},{key:"setBackground",value:function(a){this.texture=a}},{key:"setAnchor",value:function(a){if(a){var b=this.custom,c=void 0,d=b.anchor,e=b.numSprite.length;for(d.x=a.x,d.y=a.y,c=0;c<e;c+=1)(d=b.numSprite[c].anchor).x=a.x,d.y=a.y}}},{key:"setAlign",value:function(a,b){var c=this.custom;c.alignType=eb.ALIGN_TYPE.RECT;var d=c.rect.pos,e={x:d.x,y:d.y},f=c.anchor,g=c.rect.width,h=c.rect.height,i=c.offset,j={w:0,h:0},k=this.children,l=void 0,m=k.length;if(c.lastCnt!==m||c.horiType!==a||c.vertiType!==b){c.lastCnt=m,c.horiType=a,c.vertiType=b;var n=void 0;switch(k.forEach(function(a){var b=a.texture.frame;"."===a.ch||","===a.ch?(j.w-=i,j.h-=i,n&&(j.w+=n.width,j.h+=n.height,n=null),j.w+=b.width,j.h+=b.height,j.w+=2*c.symbolOffset):(j.w+=i,j.h+=i),n=b}),c.horiType){case eb.HORI_ALIGN.LEFT:c.display,eb.DISPLAY.TRANSVERSE,e.x=d.x;break;case eb.HORI_ALIGN.CENTER:c.display===eb.DISPLAY.TRANSVERSE?e.x=d.x+.5*g-.5*j.w:e.x=d.x+.5*g;break;case eb.HORI_ALIGN.RIGHT:c.display===eb.DISPLAY.TRANSVERSE?e.x=d.x+g-j.w:e.x=d.x+g}switch(c.vertiType){case eb.VERTI_ALIGN.TOP:e.y=d.y;break;case eb.VERTI_ALIGN.CENTER:c.display===eb.DISPLAY.TRANSVERSE?e.y=d.y+.5*h:e.y=d.y+.5*h-.5*j.h;break;case eb.VERTI_ALIGN.BOTTOM:c.display===eb.DISPLAY.TRANSVERSE?e.y=d.y+h:e.y=d.y+h-j.h}var o=0,p={width:0,height:0};for(l=m-1;0<=l;l-=1){var q=k[l],r=q.position,s=q.texture.frame;c.display===eb.DISPLAY.TRANSVERSE?(r.x=o+e.x,r.y=e.y):(r.y=o+e.y,r.x=e.x),"."===q.ch||","===q.ch?c.display===eb.DISPLAY.TRANSVERSE?(o-=i,o+=p.width,r.x=o+e.x-p.width*f.x+s.width*f.x,o+=s.width+2*c.symbolOffset,r.x+=c.symbolOffset):o+=s.height:o+=i,p=n=s}}}},{key:"setAlpha",value:function(a){this.children.forEach(function(b){b.alpha=a}),this.custom.alpha=a}},{key:"getValue",value:function(){return this.custom.value}},{key:"setValue",value:function(a,b){var c=this,d=c.custom,e=d.event;if(d.currentValue=d.value,d.value=a||0,d.targetValue=a||0,d.currentValue<d.targetValue?d.offsetValue=d.shift:d.currentValue>d.targetValue&&(d.offsetValue=-d.shift),e.begin&&e.begin(c),b)c.enable();else{d.currentValue=d.value;for(var f=c,g=c.fixValueString(d.currentValue),h=void 0,i=void 0,j=g.length,k=d.alpha,l=void 0,m=d.numSprite.length-1,n=d.numTe[0].frame;0<=m;){j-=1;var o=d.numSprite[m];0<=j?(i=g[j],h=d.numTe[i],o.ch=i,o.alpha=k,h&&((l=o.texture.frame).copy(h.frame),o.texture.frame=l),f.addChild(o)):(o.ch="0",d.autoHide?f.removeChild(o):((l=o.texture.frame).copy(n),o.texture.frame=l,o.alpha=k,f.addChild(o))),m-=1}c.setAlign(d.horiType,d.vertiType)}}},{key:"setEvent",value:function(a){var c=this.custom.event;c.begin=a.begin||c.begin,c.end=a.end||c.end,c.changeString=a.changeString||c.changeString}},{key:"_animChange",value:function(a){var b=this,c=b.custom,d=c.event,e=c.offsetValue*a*1e3;e<0?c.currentValue<=c.targetValue?(c.currentValue=c.targetValue,b.disable(),d.end&&d.end(b)):c.currentValue=c.currentValue+e:c.currentValue>=c.targetValue?(c.currentValue=c.targetValue,b.disable(),d.end&&d.end(b)):c.currentValue=c.currentValue+e;for(var f=b,g=b.fixValueString(c.currentValue),h=void 0,i=void 0,j=void 0,k=c.alpha,l=g.length,m=c.numSprite.length-1,n=c.numTe[0].frame;0<=m;){l-=1;var o=c.numSprite[m];0<=l?(h=g[l],i=c.numTe[h],o.ch=h,o.alpha=k,i&&((j=o.texture.frame).copy(i.frame),o.texture.frame=j),f.addChild(o)):(o.ch="0",c.autoHide?f.removeChild(o):((j=o.texture.frame).copy(n),o.texture.frame=j,o.alpha=k,f.addChild(o))),m-=1}b.setAlign(c.horiType,c.vertiType)}},{key:"fixValueString",value:function(a){var b=this.custom,c=b.event,d=a.toString(),e=d.lastIndexOf(".");e<0&&0<b.fixVal?e=(d+=".").length:0<=e&&0===b.fixVal&&(e=d.lastIndexOf("."),e=(d=d.substr(0,e)).length);for(var f=e+1;f<=e+b.fixVal;f+=1)f>=d.length&&(d=d.concat("0"));var g=d;0<b.fixVal&&d.length>e+b.fixVal&&(g=d.substr(0,e+b.fixVal+1));var h=null,l=void 0,m=g.length,n=Math.floor(a);return 0<b.fixVal&&(l=g.substr(m-(b.fixVal+1),b.fixVal+1),m=(g=n.toString()).length),h=b.useComma?6<m?g.substr(0,m-6)+","+g.substr(m-6,3)+","+g.substr(m-3,3):3<m?g.substr(0,m-3)+","+g.substr(m-3,3):g:g,b.useMoney&&(h="$"+h),b.useDash&&0===b.fixVal&&(h+="_"),0<b.fixVal&&(h+=l),c.changeString&&(h=c.changeString(h)),h}},{key:"setTextures",value:function(a){var d=this.custom;if(d.textureName!==a){d.textureName=a;var g,e=void 0,f=void 0,h=void 0,i=void 0,j=void 0,k=void 0;for(e=0,k=d.charMap.length;e<k;e++)j=d.charMap[e],f=d.textureName+j,d.numTe[j]=b.Texture.fromFrame(f);for(h=(g=d.numTe[d.charMap[0]]).frame,e=0,k=d.numCounts;e<k;e++){var l=new b.Texture(g,h.clone());(i=d.numSprite[e]).texture=l,i.anchor.x=d.anchor.x,i.anchor.y=d.anchor.y}}}},{key:"enable",value:function(){var a=this,b=a.custom;b.enable||(b.enable=!0,a._game.addUpdate(a))}},{key:"disable",value:function(){var a=this,b=a.custom;b.enable&&(b.enable=!1,a._game.removeUpdate(a))}},{key:"stop",value:function(){this.disable()}},{key:"update",value:function(a){this._eventUpdate&&this._eventUpdate(a)}},{key:"shift",set:function(a){this.custom.shift=a},get:function(){return this.custom.shift}},{key:"fixVal",set:function(a){this.custom.fixVal=a},get:function(){return this.custom.fixVal}}]),c}(q(b.Sprite))}(b),function(a){var b=a.PIXI;hb=function(a){function c(a){ka(this,c);var d=pa(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a.background||b.Texture.EMPTY)),e=d;return e._game=a.game,e.conf=a.conf,e.type=gb,e.name=a.name,e.objName=a.objName,e.isInScene=a.isInScene,e.value={current:1,offset:1,min:1,max:10,range:9},e.value.range=e.value.max-e.value.min,e.eventScroll=null,e.slider=new b.Sprite(a.slider),e.slider.anchor.x=.5,e.addChild(e.slider),a.pos&&(e.x=a.pos.x||0,e.y=a.pos.y||0),a.anchor&&(e.anchor.x=a.anchor.x||0,e.anchor.y=a.anchor.y||0),e.limit={offset:0,min:.5*e.conf.slider.width,max:e.conf.width-.5*e.conf.slider.width},e.limit.length=e.limit.max-e.limit.min,e.slider.x=e.limit.min,e.slider.value=0,e.limit.offset=e.limit.length/e.value.range,e.hasMove=!1,e.buttonMode=!0,e.interactive=!0,e.obj=null,e.touchstart=e.mousedown=function(a){var b_x=parseInt(a.data.global.x);parseInt(a.data.global.y),e.hasMove=!0,e.slider.x=b_x-e.x,e.slider.x<e.limit.min?e.slider.x=e.limit.min:e.slider.x>=e.limit.max&&(e.slider.x=e.limit.max),e.slider.value=e.slider.x-e.limit.min,e.value.current=e.value.min+e.value.offset*parseInt(e.slider.value/e.limit.offset),e.eventScroll&&e.eventScroll(e.value.current,e)},e.touchend=e.mouseup=function(a){parseInt(a.data.global.x),parseInt(a.data.global.y),e.hasMove=!1},e.slider.buttonMode=!0,e.slider.interactive=!0,e.slider.mousedown=e.slider.touchstart=function(){e.hasMove=!0},e.slider.mouseup=e.slider.mouseupoutside=e.slider.touchend=e.slider.touchendoutside=function(){e.hasMove=!1},e.slider.mousemove=e.slider.touchmove=function(a){if(0===a.which&&(e.hasMove=!1),e.hasMove){var b_x=parseInt(a.data.global.x);parseInt(a.data.global.y),e.slider.x=b_x-e.x,e.slider.x<e.limit.min?e.slider.x=e.limit.min:e.slider.x>=e.limit.max&&(e.slider.x=e.limit.max),e.slider.value=e.slider.x-e.limit.min,e.value.current=e.value.min+e.value.offset*parseInt(e.slider.value/e.limit.offset),e.eventScroll&&e.eventScroll(e.value.current,e)}},d}return qa(c,a),oa(c,null,[{key:"TYPE",get:function(){return gb}}]),oa(c,[{key:"clone",value:function(){return null}},{key:"setBindScrollEvent",value:function(a){this.eventScroll=a}},{key:"reset",value:function(){this.hasMove=!1}},{key:"setRange",value:function(a){"number"==typeof a.current&&(this.value.current=a.current),"number"==typeof a.offset&&(this.value.offset=a.offset),"number"==typeof a.min&&(this.value.min=a.min),"number"==typeof a.max&&(this.value.max=a.max),"number"==typeof a.range&&(this.value.range=a.range),this.value.current<this.value.min?this.value.current=this.value.min:this.value.current>this.value.max&&(this.value.current=this.value.max),this.value.offset=(this.value.max-this.value.min)/this.value.range,this.limit.offset=this.limit.length/this.value.range,this.slider.value=this.limit.offset*(this.value.current-this.value.min),this.slider.x=this.limit.min+this.slider.value,this.eventScroll&&this.eventScroll(this.value.current,this)}},{key:"setValue",value:function(a){a>=this.value.min&&a<=this.value.max&&(this.value.current=a,this.slider.value=this.limit.offset*((this.value.current-this.value.min)/this.value.range),this.slider.x=this.limit.min+this.slider.value,this.eventScroll&&this.eventScroll(this.value.current,this))}},{key:"getValue",value:function(){return this.value.current}}]),c}(q(b.Sprite))}(b),function(a){var b=a.PIXI;_a=function(a){function c(a){ka(this,c);var d=pa(this,(c.__proto__||Object.getPrototypeOf(c)).call(this)),e=d,f=a.spineDataGroup,g=a.textureGroup;e._game=a.game,e.conf=a.conf,e.type=$a,e.name=a.name,e.objName=a.objName||null,e.isInScene=a.isInScene;var h={};return(e.custom=h).childList=[],h.spineAnimList=[],h.group={},h.spineDataGroup=f,h.textureGroup=g,h.configList=a.configList||a.conf&&a.conf.configList,a.pos&&(e.x=a.pos.x||0,e.y=a.pos.y||0),b.spine?(h.configList.forEach(function(a,c){var d=void 0,g=void 0,j=void 0,k=void 0;if(g=new b.Sprite(b.Texture.EMPTY),j={x:0,y:0},k=(d=new b.spine.Spine(f[a.dataName])).getLocalBounds(),d.skeleton.setToSetupPose(),d.autoUpdate=!1,d.state.timeScale=0,d.x=.01,d.y=.01,d.childMap={},d.getChild=function(a){return d.childMap[a]},d.spineData.slots.forEach(function(a,b){var c=d.children[b];c&&c.children&&(c=c.children[0],d.childMap[a.name]=c)}),g.name=a.name,g.addChild(d),h.childList[c]=g,a.anchor&&(d.x=-d.width*a.anchor.x+.01,d.y=-d.height*a.anchor.y+.01),j.x=k.x,j.y=k.y,a.fixPosition){var l=a.fixPosition,m=l.offset||{x:0,y:0},n=null;l.childName&&(n=d.getChild(l.childName)),n||(n=d.children[l.childIndex||0].children[0]),k=n.getBounds(),d.x=-k.x+.5*-k.width,d.y=-k.y+.5*-k.height,j.x=d.x+k.x,j.y=d.y+k.y,d.x=d.x+m.x,d.y=d.y+m.y}if(a.debug){var o=new b.Graphics;g.addChild(o),o.x=0,o.y=0,o.lineStyle(1,16711680,.9),o.beginFill(16740363,.1),o.drawRect(d.x+k.x,d.y+k.y,k.width,k.height),o.endFill(),o.lineStyle(0),o.beginFill(0,1),o.drawCircle(j.x,j.y,3),o.endFill(),o.beginFill(16777215,1),o.drawCircle(j.x,j.y,1),o.endFill(),d.children.forEach(function(a){var c=a.children[0];if(c&&c.getBounds||(c=a),c&&c.getBounds){var d=c.getBounds(),e=new b.Graphics;c.addChild(e),e.x=0,e.y=0,e.lineStyle(1,65280,.75),e.beginFill(786288,.15),e.drawRect(.5*-d.width,.5*-d.height,d.width,d.height),e.endFill(),e.lineStyle(0),e.beginFill(0,1),e.drawCircle(0,0,3),e.endFill(),e.beginFill(16777215,1),e.drawCircle(0,0,1),e.endFill()}})}a.name&&(h.group[a.name]={sprite:g,spine:d,entry:null,animConfig:{animationName:a.animationName,timeScale:a.timeScale,loop:a.loop}}),e.addChild(g),h.spineAnimList.push(d)}),h.configList.forEach(function(a){var c=h.group[a.name].spine;if(c&&a.mask){var d=new b.Sprite(g[a.mask.name]),e=c;if(c.mask=d,a.mask.follow&&(e=h.group[a.mask.follow]),e){var f=e.getLocalBounds();a.mask.local?(d.x=f.x,d.y=f.y):(d.x=0,d.y=0),e.addChild(d)}var i=a.mask.fixPosition;if(i&&e){var j=i.offset||{x:0,y:0},k=void 0;i.childName&&(k=e.getChild(i.childName)),k||(k=e.children[i.childIndex||0].children[0]);var l=k.getBounds(),m=e.getBounds(),n=e.getLocalBounds();d.x=n.x+(l.x-m.x)+j.y,d.y=n.y+(l.y-m.y)+j.y}if(a.mask.debug){var o=new b.Graphics,p={x:0,y:0};e&&(p.x=e.x,p.y=e.y,e.parent.addChild(o)),o.x=p.x+d.x,o.y=p.y+d.y,o.lineStyle(1,255,.75),o.beginFill(16740363,.15),o.drawRect(0,0,d.width,d.height),o.endFill(),o.lineStyle(1,0),o.moveTo(0,0),o.lineTo(d.width,d.height),o.moveTo(d.width,0),o.lineTo(0,d.height)}}c&&a.maskList&&a.maskList.forEach(function(a){var d=void 0,e=void 0,f=new b.Sprite(g[a.name]),h=null;a.followName&&(h=c.getChild(a.followName)),h||(h=c.children[a.follow]&&c.children[a.follow].children[0]),d=h,h=null,a.targetName&&(h=c.getChild(a.targetName)),h||(h=c.children[a.target]&&c.children[a.target].children[0]),(e=h)&&(e.mask=f),d&&(f.x=-d.width/2,f.y=-d.height/2,d.addChild(f))})}),d):pa(d)}return qa(c,a),oa(c,null,[{key:"getChild",value:function(a,b){var c=null,d=a.spineData.slots,e=-1;return d.some(function(a,c){return a.name===b&&(e=c,!0)}),0<=e&&(c=a.children[e].children[0]),c}},{key:"getRect",value:function(a,c){var d=a.getBounds();if(c){var e=new b.Graphics;a.addChild(e),e.x=0,e.y=0,e.lineStyle(1,255,.75),e.beginFill(65291,.15),e.drawRect(.5*-d.width,.5*-d.height,d.width,d.height),e.endFill(),e.lineStyle(1,0),e.moveTo(0,0),e.lineTo(d.width,d.height),e.moveTo(d.width,0),e.lineTo(0,d.height)}return d}},{key:"TYPE",get:function(){return $a}}]),oa(c,[{key:"clone",value:function(a){Pa(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"clone",this).call(this);var b=this.custom,d={game:a||this._game,conf:this.conf,isInScene:this.isInScene,name:this.name+".clone."+this.cloneIndex,textureGroup:b.textureGroup,spineDataGroup:b.spineDataGroup,configList:b.configList,pos:this.position};return new _a(d)}},{key:"removeFromScene",value:function(){this.parent&&this.parent.removeChild(this),this._game.removeUpdate(this)}},{key:"getGroup",value:function(a){return this.custom.group[a]}},{key:"getSpine",value:function(a){var c=this.custom.group[a],d=void 0;return c&&(d=c.spine),d}},{key:"getEntry",value:function(a){var c=this.custom.group[a],d=void 0;return c&&(d=c.entry),d}},{key:"getAnimConfig",value:function(a){var c=this.custom.group[a],d=void 0;return c&&(d=c.animConfig),d}},{key:"play",value:function(a){var b=this,c=b.custom,d=[];a&&Array.isArray(a)?(c.childList.forEach(function(a){b.removeChild(a)}),a.forEach(function(a){var e=c.group[a.name];if(e){var f=e.spine,g=e.sprite,h=e.animConfig;f&&(e.entry=f.state.setAnimation(0,a.animationName||h.animationName,a.loop),f.update(0),f.state.timeScale=a.timeScale||h.timeScale,d.push(f)),b.addChild(g)}})):Object.getOwnPropertyNames(c.group).forEach(function(a){var e=c.group[a];if(e){var f=e.spine,g=e.sprite,h=e.animConfig;f&&(e.entry=f.state.setAnimation(0,h.animationName,h.loop),f.update(0),f.state.timeScale=h.timeScale,d.push(f)),b.addChild(g)}}),c.spineAnimList=d,b._game.addUpdate(b)}},{key:"pause",value:function(){var b=this.custom;Object.getOwnPropertyNames(b.group).forEach(function(a){var d=b.group[a].spine;d&&(d.state.timeScale=0)})}},{key:"resume",value:function(){var b=this.custom;Object.getOwnPropertyNames(b.group).forEach(function(a){var c=b.group[a],d=c.spine,e=c.animConfig;d&&(d.state.timeScale=e.timeScale)})}},{key:"stop",value:function(a){var b=this,c=b.custom;a&&Array.isArray(a)?a.forEach(function(a){var b=c.group[a.name],d=b.spine,e=b.animConfig;e.animationName=a.animationName||e.animationName,d&&(d.state.timeScale=0)}):(Object.getOwnPropertyNames(c.group).forEach(function(a){var d=c.group[a].spine;d&&(d.state.timeScale=0)}),b._game.removeUpdate(b))}},{key:"update",value:function(a){this.custom.spineAnimList.forEach(function(b){b.update(a)})}}]),c}(q(b.Container))}(b),function(a){var b=a.PIXI;cb=function(a){function c(a){ka(this,c);var d=pa(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,b.Texture.EMPTY)),e=d;e._game=a.game,e.conf=a.conf,e.type=ab,e.name=a.name,e.objName=a.objName||null,e.resource={},e.animation={timeScale:1},e.isInScene=a.isInScene,e.isUpdate=!1,a.animation&&(e.animation.name=a.animation.name,e.animation.timeScale=a.animation.timeScale),a.resource&&(e.resource.name=a.resource.name),a.pos&&(e.x=a.pos.x||0,e.y=a.pos.y||0),a.anchor&&(e.anchor.x=a.anchor.x||.5,e.anchor.y=a.anchor.y||.5);var f=bb&&bb.buildArmature(e.resource.name);if(f){var g=f.display;g.scale.set(1,1),e.addChild(g)}return e.armature=f,e.state=null,d}return qa(c,a),oa(c,null,[{key:"setFactory",value:function(a){bb=a}},{key:"getFactory",value:function(){return bb}},{key:"TYPE",get:function(){return ab}}]),oa(c,[{key:"clone",value:function(a){Pa(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"clone",this).call(this);var b=this.cloneIndex,d={game:a||this._game,conf:this.conf,isInScene:this.isInScene,resource:this.resource,animation:this.animation,name:this.name+".clone."+b,pos:this.sprite.position};return new cb(d)}},{key:"removeFromScene",value:function(){var a=this;a.parent&&a.parent.removeChild(a),a.stop()}},{key:"play",value:function(a){var b=this.armature,c=this.animation;b&&(c.name=a||c.name,this.state=b.animation.play(c.name),this.state&&(this.state.timeScale=c.timeScale),this.isUpdate||(this.isUpdate=!0,this._game.addUpdate(this)))}},{key:"stop",value:function(){this.armature&&this.isUpdate&&(this.isUpdate=!1,this._game.removeUpdate(this))}},{key:"update",value:function(a){var b=this.armature;b&&b.advanceTime(a)}},{key:"timeScale",set:function(a){this.animation.timeScale=a,this.state&&(this.state.timeScale=a)},get:function(){return this.animation.timeScale}}]),c}(q(b.Sprite))}(b),function(a){var b=a.PIXI;jb=function(a){function b(a){ka(this,b);var c=pa(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a.text||"test used")),d=c;d._game=a.game,d.conf=a.conf,d.type=ib,d.name=a.name,d.objName=a.objName,d.isInScene=a.isInScene;var e={fill:"#FFFFFF",stroke:"#000000",strokeThickness:0};return a.style&&(e.fill=a.style.fill||"#FFFFFF",e.stroke=a.style.stroke||"#000000",e.strokeThickness=a.style.strokeThickness||0),d.style=e,a.pos&&(d.x=a.pos.x,d.y=a.pos.y),a.anchor&&(d.anchor.x=a.anchor.x||0,d.anchor.y=a.anchor.y||0),c}return qa(b,a),oa(b,null,[{key:"TYPE",get:function(){return ib}}]),oa(b,[{key:"clone",value:function(a){Pa(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"clone",this).call(this);var c={game:a||this._game,conf:this.conf,isInScene:this.isInScene,name:this.name+".clone."+this.cloneIndex,pos:this.position,anchor:this.anchor,style:this.style,text:this.text};return new jb(c)}}]),b}(q(b.Text))}(b),function(a){var b=a.PIXI;mb=function(a){function c(a){ka(this,c);var d=pa(this,(c.__proto__||Object.getPrototypeOf(c)).call(this)),e=d,f={},g=void 0;e.custom=f,e._game=a.game,e.conf=a.conf,e.type=kb,e.name=a.name,e.objName=a.objName,e.isInScene=a.isInScene;var h=a.setting;return f.type=h.type,f.config=h.config,f.art=h.art,f.ownerPos=new b.Point(0,0),e.setProperties({scale:!0,position:!0,rotation:!0,uvs:!0,alpha:!0}),b.particles&&b.particles.Emitter&&(g=new b.particles.Emitter(e,f.art,f.config)),g&&("path"===f.type?g.particleConstructor=b.particles.PathParticle:"anim"===f.type&&(g.particleConstructor=b.particles.AnimatedParticle)),a.pos&&(e.x=a.pos.x,e.y=a.pos.y),e.emitter=g,d}return qa(c,a),oa(c,null,[{key:"setConfigMap",value:function(a){lb=a||lb}},{key:"getConfig",value:function(a){return lb[a]}},{key:"TYPE",get:function(){return kb}}]),oa(c,[{key:"clone",value:function(a){Pa(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"clone",this).call(this);var b=this.cloneIndex,d=this.custom,e={game:a||this._game,conf:this.conf,isInScene:this.isInScene,name:this.name+".clone."+b,pos:this.position,setting:{type:d.type,config:d.config,art:d.art}};return new mb(e)}},{key:"removeFromScene",value:function(){Pa(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"removeFromScene",this).call(this),this._game.removeUpdate(this)}},{key:"play",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,c=this,d=c.emitter,e=a||c.custom.ownerPos;d&&(d.emit=!0,d.resetPositionTracking(),d.updateOwnerPos(e.x,e.y),d.update(b),c._game.addUpdate(c))}},{key:"stop",value:function(){this._game.removeUpdate(this)}},{key:"update",value:function(a){this.emitter.update(a)}}]),c}(q(b.particles.ParticleContainer))}(b),ec.Animation=Ta,ec.Button=Va,ec.Group=Xa,ec.Image=Za,ec.Number=fb,ec.Scrollbar=hb,ec.Spine=_a,ec.Bone=cb,ec.Text=jb,ec.Particle=mb,ea(b)),m(),n(),c(b),gc=!0,a("!! init finish !!")}()})}var ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Ea,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,_a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,qb,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Vb,Wb,Xb,Yb,Zb,$b,_b,ac,bc,cc,dc,ec,fc,gc;return{setters:[function(a){ha=a.default},function(a){ia=a.default},function(a){ja=a.default}],execute:function(){ka=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},la=null,ma=function a(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";ka(this,a);var d={event:b&&b.event,socket:null,cmdList:b&&b.commandList,isConnect:!1,host:b&&b.host,roomName:c};this.isConnect=function(){return d.isConnect},this.setHost=function(a){return d.host=a},this.setCommandList=function(a){return d.cmdList=a},this.registerCommand=function(a,b){var c=d.socket;c&&c.on(a,b)},this.sendCommand=function(a,b){var c=d.socket;c&&c.compress(!0).emit(a,b)},this.setEvent=function(a){d.event=a},this.connect=function(a){var b=void 0,c=d.cmdList;if(d.socket)return!1;b=la.connect(d.host+d.roomName,{pingTimeout:15e3,pingInterval:3e4,secure:!0,transports:["websocket"]});var e={};return a?(d.event=a,e.connect=a.connect,e.disconnect=a.disconnect):d.event&&(e.connect=d.event.connect,e.disconnect=d.event.disconnect),(d.socket=b).on("connect",function(){d.isConnect=!0,e.connect&&(e.connect(),e.connect=null)}),b.on("disconnect",function(){d.isConnect=!1,e.disconnect&&(e.disconnect(),e.disconnect=null)}),c&&Object.getOwnPropertyNames(c).forEach(function(a){b.on(a,c[a])}),!0},this.disconnect=function(){var a=d.socket;a&&a.disconnect()}},a("client",na=Object.freeze({init:c,Network:ma})),oa=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),pa=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b},qa=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},ra=function(){function a(){ka(this,a)}return oa(a,null,[{key:"create",value:function(a){var e,b=a.lobbyBuffer,c=a.gameBuffer,d=null,f={cmdList:null,gameProc:null,setEventMap:function(a){d=a}};e=function(a){var e={},g=a.gameEvent;return e.checkData=function(a,b,c,d){var e=Na.OK;return b.resultCode!==Ma.OK?(e=Na.ERROR,d&&d.error&&d.error(b)):d&&d.handle&&d.handle(b),e},e.gameProc=function(a){var b=g[a.gid];b&&b.recvGameData&&b.recvGameData(a.packet)},e.broadcastProc=function(a){Object.getOwnPropertyNames(g).forEach(function(b){var c=g[b];c&&c.recvBroadcast&&c.recvBroadcast(a)})},f.gameProc=e.gameProc,{connect:function(a){var b=d&&d.connect;b&&b.handle&&b.handle(a)},reconnect:function(a){var b=d&&d.reconnect;b&&b.handle&&b.handle(a)},login:function(c){var f=d&&d.login;e.checkData(La.LOGIN,c,b,f)&&(a.connectionToken=c.connectionToken)},relogin:function(c){var f=d&&d.relogin;e.checkData(La.RELOGIN,c,b,f)&&(a.connectionToken=c.connectionToken)},inGame:function(a){var c=d&&d.inGame;e.checkData(La.IN_GAME,a,b,c)},exitGame:function(a){var c=d&&d.exitGame;e.checkData(La.EXIT_GAME,a,b,c)},toGame:function(a){var b=d&&d.toGame;e.checkData(La.TO_GAME,a,c,b),e.gameProc(a)},broadCastMsg:function(a){var b=d&&d.broadcast;b&&b.handle&&b.handle(a),e.broadcastProc(a)},ping:function(a){var b=d&&d.ping;b&&b.handle&&b.handle(a)},pong:function(a){var b=d&&d.pong;b&&b.handle&&b.handle(a)},disconnectMsg:function(a){var b=d&&d.disconnectMsg;b&&b.handle&&b.handle(a)},disconnect:function(a){var b=d&&d.disconnect;b&&b.handle&&b.handle(a)}}}(a),f.cmdList=e,a.commandManager=f}}]),a}(),sa=null,ta=[],va=!(ua=[]),ya=xa=!(wa=-1),a("updateManager",za=Object.freeze({add:d,remove:e,setTimeout:f,setInterval:g,clearInterval:h,once:i,reset:j,init:m,play:n,pause:o})),La={ERROR:"error",CONNECT:"connect",RECONNECT:"reconnect",LOGIN:"login",RELOGIN:Ea="relogin",IN_GAME:"inGame",EXIT_GAME:"exitGame",TO_GAME:"toGame",BROADCAST:"broadCastMsg",DISCONNECT_MSG:"disconnectMsg",DISCONNECT:"disconnect"},Ma={ERROR:0,OK:1},Na={SEND_LOCK:-3,CONNECT_TIMEOUT:-2,BUFFER_FULL:-1,ERROR:0,OK:1,LOGIN:3,ROOM:4,CONNECT:2},a("Lobby",Oa=function(a){function b(a,c){ka(this,b);var e={gameEvent:{},sendEvent:{},commandManager:null,connectionToken:null,timer:null,login:null,game:{configMap:{},template:null},lobbyBuffer:{sendCommandList:[],token:null},gameBuffer:{sendCommandList:[],token:null}},f=pa(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c)),h=f;return e.timer||(e.timer=g(function(){var a=e.lobbyBuffer,b=e.gameBuffer,c=a.sendCommandList,d=void 0;0<c.length&&(d=c.shift(),h.sendLobbyCommand(d)),0<(c=b.sendCommandList).length&&(d=c.shift(),h.sendGameCommand(d))},.2)),f.init=function(a,b){var c={},d="login",f="gamelist",g=new ha;ra.create(e),h.setCommandList(e.commandManager.cmdList),a?(a.gameTemplate&&Object.getOwnPropertyNames(a.gameTemplate).forEach(function(b){g.add(b,a.gameTemplate[b]),c[b]=!0}),a.login&&g.add(d,a.login),a.gameList&&g.add(f,a.gameList),g.load(function(a,g){g&&(e.game.template={},Object.getOwnPropertyNames(c).forEach(function(a){g[a]&&(e.game.template[a]=g[a].data)}),g[d]&&(e.login=JSON.parse(g[d].data)),g[f]&&JSON.parse(g[f].data).forEach(function(a){e.game.configMap[a.id]=a})),e.login&&e.login.server&&e.login.server.host&&h.setHost(e.login.server.host),b&&b({login:e.login})})):b&&b({login:null})},f.getGame=function(){return e.game},f.getCommandManager=function(){return e.commandManager},f.gameProc=function(a){e.commandManager&&e.commandManager.gameProc(a)},f.setEventMap=function(a){e.commandManager&&e.commandManager.setEventMap(a)},f.setSendEvent=function(a){e.sendEvent.game=a.game},f.login=function(a){var b={token:a.token};h.sendCommand("login",b)},f.relogin=function(){var a={connectionToken:e.connectionToken};h.sendCommand(Ea,a)},f.registerGameEvent=function(a,b){b&&(e.gameEvent[b]=a)},f.unregisterGameEvent=function(a){e.gameEvent[a]=null},f.setLobbyCommand=function(a,b){return e.lobbyBuffer.sendCommandList.push({name:a,data:b}),Na.OK},f.sendLobbyCommand=function(a){h.sendCommand(a.name,a.data)},f.setGameCommand=function(a,b){return e.gameBuffer.sendCommandList.push({gid:b,packet:a}),Na.OK},f.sendGameCommand=function(a){var b={gid:a.gid,packet:a.packet};h.sendCommand("toGame",b),e.sendEvent.game&&e.sendEvent.game(a.gid)},f}return qa(b,ma),oa(b,null,[{key:"STATE",get:function(){return Na}},{key:"CMD",get:function(){return La}},{key:"RESULT",get:function(){return Ma}}]),b}()),Pa=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0!==g?g.call(d):void 0},Qa=function(){function a(){ka(this,a),this.cloneIndex=0}return oa(a,[{key:"clone",value:function(){this.cloneIndex+=1}},{key:"addToScene",value:function(a){a.addChild(this)}},{key:"removeFromScene",value:function(){var a=this;a.parent&&a.parent.removeChild(a)}}]),a}(),Ra=Object.freeze({debug:p,make:q,default:Qa}),db="digit",eb={CHAR_MAP:["0","1","2","3","4","5","6","7","8","9","."],DISPLAY:{TRANSVERSE:1,STRAIGHT:2},ALIGN_TYPE:{POS:1,RECT:2},OFFSET_TYPE:{STATIC:1,DYNAMIC:2},HORI_ALIGN:{LEFT:1,CENTER:2,RIGHT:3},VERTI_ALIGN:{TOP:1,CENTER:2,BOTTOM:3}},lb={demo:{alpha:{start:1,end:0},scale:{start:.1,end:1.5},color:{start:"ffffff",end:"ffffff"},speed:{start:600,end:200},startRotation:{min:0,max:360},rotationSpeed:{min:0,max:20},lifetime:{min:.5,max:.7},blendMode:"normal",frequency:16e-6,emitterLifetime:-1,maxParticles:100,pos:{x:0,y:0},addAtBack:!(kb="particle"),spawnType:"point"}},"config","sound",qb="texture","object","asset","bones",wb={event:{resBegin:nb=mb=jb=hb=fb=cb=bb=_a=Za=Xa=Va=Ta=null,resEnd:null,sceneResBegin:null,SceneResLoading:null,SceneResEnd:null},state:null,game:null,baseURL:"",base:0,baseProgress:0,baseIndex:0,baseMax:0,objectFactory:{},isBusy:!(vb={INFO:"info",GROUP:Wa="group",SCROLLBAR:gb="scrollbar",BACKGROUND:"background",PARTICLE:"particle",TEXT:ib="text",IMAGE:Ya="image",SPINE:$a="spine",BONE:ab="bone",ANMIMATION:Sa="animation",NUMBER:"number",BUTTON:Ua="button"}),textures:null,spines:null,bonesFactory:null,soundMapList:[]},xb=function(a){var b=wb.textures,c=a&&a.split(".");return c&&c.every(function(a){var c=b[a];return!!c&&(b=c,!0)}),b},yb=function(a){var b=wb.spines,c=a&&a.split(".");return c&&c.every(function(a){var c=b[a];return!!c&&(b=c,!0)}),b},zb=function(a){var b={};return b.conf=a,b.name=a.name,b.objName=a.objName,b},Ab=function(a,b){var c=null,d=a.resource.group,e=a.resource.name,f=a.pos||{x:0,y:0},h=xb(d)[e];if(a.debug){var i=B(a.name,a);Array.isArray(h)||(h=[h]),h.push(i)}var j=mb.getConfig(a.config.name);return h&&j&&(c=new mb({game:b,conf:a,name:a.name,objName:a.objName,isInScene:a.isInScene,setting:{type:a.type,config:j,art:h,useParticleContainer:a.useParticleContainer},pos:f})),c},Bb=function(a,b){var c=a.pos||{x:0,y:0},d=yb(a.resource.spineData),e=xb(a.resource.texture);return new _a({game:b,conf:a,name:a.name,objName:a.objName,isInScene:a.isInScene,spineDataGroup:d,textureGroup:e,pos:c})},Cb=function(a,b){var c=a.pos||{x:0,y:0},d={},e={timeScale:1};return a.resource&&"string"==typeof a.resource.name&&(d.name=a.resource.name),a.animation&&(e.name=a.animation.name,e.timeScale=a.animation.timeScale),new cb({game:b,conf:a,name:a.name,objName:a.objName,resource:d,animation:e,isInScene:a.isInScene,pos:c})},Db=function(a,b){var c=void 0,d=a.pos||{x:0,y:0},e=wb.objectFactory;return c=new Xa({game:b,conf:a,name:a.name,objName:a.objName,isInScene:a.isInScene,pivot:a.pivot,pos:d}),a.childList&&a.childList.forEach(function(a){var d=e[a.type],f=void 0;d&&(f=d(a,b))&&(a.isInScene&&f&&c.addChild(f),c.childList.push(f))}),c},Eb=function(a,b){var c=a.pos||{x:0,y:0},d=a.anchor||{x:0,y:0};return new jb({game:b,conf:a,name:a.name,objName:a.objName,isInScene:a.isInScene,pos:c,anchor:d,text:a.text||"文字訊息"})},Fb=function(a,b){var c=a.resource,d=c.group,e=xb(d),f=PIXI.Texture.EMPTY,g=PIXI.Texture.EMPTY;return a.debug?g=B(a.name,a):e&&(f=e[c.slider]||f,g=e[c.background]||g),new hb({game:b,conf:a,name:a.name,objName:a.objName,isInScene:a.isInScene,pos:a.pos,anchor:a.anchor,slider:f,background:g})},Gb=function(a,b){var c=a.resource.group,d=a.resource.name,e=a.pos||{x:0,y:0},f=a.anchor||{x:0,y:0},g=xb(c),h=PIXI.Texture.EMPTY;return"number"==typeof d&&d<0&&(d=0),a.debug?h=B(a.name,a):g&&(h=g[d]||h),new Za({game:b,conf:a,name:a.name,objName:a.objName,isInScene:a.isInScene,pos:e,anchor:f,texture:h})},Hb=function(a,b){var c=a.resource.group,d=a.resource.name,e=a.pos||{x:0,y:0},f=a.anchor||{x:0,y:0},g=xb(c),h=a.blend,i=void 0,j=PIXI.Texture.EMPTY;return"number"==typeof d&&d<0&&(d=0),"number"==typeof h?h<0&&(h=0):h=0,a.debug?j=B(a.name,a):g&&(j=g[d]||j),(i=new Za({game:b,conf:a,name:a.name,objName:a.objName,isInScene:a.isInScene,pos:e,anchor:f,alpha:a.alpha||1,texture:j})).blendMode=h,i},Ib=function(a,b){var c=a.resource.group,d=a.resource.name,e=a.pos||{x:0,y:0},f=a.anchor||{x:0,y:0},g=a.speed||.33,h=a.loop,i=xb(c),j=[PIXI.Texture.EMPTY];return a.debug?j=[B(a.name,a)]:i&&(j=i[d]||j),new Ta({game:b,conf:a,name:a.name,objName:a.objName,isInScene:a.isInScene,speed:g,loop:h,pos:e,anchor:f,textures:j})},Jb=function(a,b){var c=a.resource.texture,d=xb(a.resource.group),e=a.numCounts||4,f=a.offset,g=a.symbolOffset,h=a.charMap,i=a.autoHide,j={pos:{x:0,y:0},width:a.width,height:a.height},k=PIXI.Texture.EMPTY;return a.debug?k=B(a.name,a):d&&(k=d[a.resource.background]||k),new fb({game:b,conf:a,name:a.name,objName:a.objName,isInScene:a.isInScene,autoHide:i,fixVal:a.fixVal,useComma:a.useComma,useDash:a.useDash,useMoney:a.useMoney,pos:a.pos,anchor:a.anchor,pivot:a.pivot,rect:j,textureName:c,background:k,numCounts:e,charMap:h,symbolOffset:g,offset:f})},Kb=function(a,b){var c=a.resource,d=c.group,e=c.name,f=xb(d),g=void 0,h={enter:PIXI.Texture.EMPTY,press:PIXI.Texture.EMPTY,leave:PIXI.Texture.EMPTY,disable:PIXI.Texture.EMPTY};return a.debug?(h.enter=B(a.name,a),h.press=h.enter,h.leave=h.enter,h.disable=h.enter):f&&f[e]&&(g=f[e],h.enter=g[c.enter]||h.enter,h.press=g[c.press]||h.press,h.leave=g[c.leave]||h.leave,h.disable=g[c.disable]||h.disable),new Va({game:b,conf:a,name:a.name,objName:a.objName,isInScene:a.isInScene,pos:a.pos,anchor:a.anchor,texture:h})},Lb=Object.freeze({OBJ_TYPE:vb,createDebugTxeture:B,createGroup:Db,init:C,registerFactory:D,loadScene:E,loadSceneEx:F,setEvent:G,setState:H,createRawData:I,createSpineData:J,createBonesData:K,createObject:L,createTexture:M,setTextures:N,setSpineData:O,setBaseURL:P,getBaseURL:Q,getTextures:R,createSound:S,destroySound:T,destroyAllSound:U}),Mb={isBusy:!1,game:null,loading:null,useLobbyState:!1,state:{currentIndex:0,totals:0}},Nb=Object.freeze({go:V,setUseLobbyState:W,setGame:X,setDisplayLoading:Y}),Ob={init:null,release:null,resource:null,eventResBegin:null,eventResCheck:null,eventResEnd:null,eventStart:null,eventEnter:null,eventLeave:null},Qb=Pb=null,Rb=function(){function a(){ka(this,a)}return oa(a,null,[{key:"resCreate",value:function(a){Ob.resource&&Ob.resource(a)}},{key:"frameStart",value:function(b){Ob.eventStart&&Ob.eventStart(b),Pb=a.frameEnter}},{key:"frameFinish",value:function(a){Ob.release&&Ob.release(a),Pb=null,Qb&&(Qb(),Qb=null)}},{key:"frameEnter",value:function(b){var c=!0;Ob.eventEnter&&(c=Ob.eventEnter(b)),c&&(Pb=a.resBegin)}},{key:"frameLeave",value:function(b){var c=!0;Ob.eventLeave&&(c=Ob.eventLeave(b)),c&&(Pb=a.frameFinish)}},{key:"resBegin",value:function(b){Ob.eventResBegin&&Ob.eventResBegin(b),a.resCreate(),Pb=a.resLoading}},{key:"resLoading",value:function(b){Ob.eventResCheck?Ob.eventResCheck(b)&&(Pb=a.resEnd):Pb=a.resEnd}},{key:"resEnd",value:function(b){Ob.eventResEnd&&Ob.eventResEnd(b),Pb=a.frameLeave}}]),a}(),Sb=Object.freeze({refresh:Z,go:$}),Tb={event:null,scene:{anim:null,message:null,percent:null},isInit:!1,strings:null,resList:null,state:!1},null,Vb=Object.freeze({setState:_,setStrings:aa,setScene:ba,go:ca}),Wb=!1,Xb=null,Yb=function a(){ka(this,a);var b=this,c=null,f={debug:!1,timeBase:1,layer:{stage:null,overlay:null,foreground:null,main:null,background:null},screen:{width:800,height:600,transparent:!0,resolution:1},currentTime:-1,renderer:null,pause:!1,event:{create:null,play:null,pause:null,enter:null,leave:null},isInit:!1,updates:{objList:[],names:[],refreshMap:{}}};b.custom={},b.update=function(a){var b=f.updates,d=f.pause,e=f.renderer,g=f.layer.stage,h=b.names,i=b.refreshMap;f.debug&&c&&c.begin(),f.currentTime<0&&(a=0,f.currentTime=1),a*=f.timeBase,h.forEach(function(b){var c=i[b];c.update?c.update(a):c(a)}),f.updates.objList.forEach(function(b){b.update&&b.update(a)}),d||e.render(g),f.debug&&c&&c.end()},f.debug=!1,b.addRefresh=function(a,b){var c=f.updates;c.refreshMap[a]=b,c.names=Object.getOwnPropertyNames(c.refreshMap)},b.removeRefresh=function(a){var b=f.updates;b.refreshMap.hasOwnProperty(a)&&(delete b.refreshMap[a],b.names=Object.getOwnPropertyNames(b.refreshMap))},b.addUpdate=function(a){var b=f.updates.objList,c=!1;return a&&a.update&&!a.hasOwnProperty("__updateIndex")&&(a.__updateIndex=b.length,b[a.__updateIndex]=a,c=!0),c},b.removeUpdate=function(a){var b=f.updates.objList,c=void 0,d=b.length,e=void 0;if("number"==typeof a.__updateIndex){if(0<=(c=a.__updateIndex)&&c<d){var g=d-1;e=b[g],(b[c]=e).__updateIndex=c,b.splice(g,1)}delete a.__updateIndex}},b.resetUpdate=function(){f.updates.objList.forEach(function(a){delete a.__updateIndex}),f.updates.objList=[]},b.setTimeout=function(a,c){var d={currentTime:0,func:a,update:function(a){d.currentTime.toFixed(2)>=c&&(b.removeUpdate(d),d.func&&d.func(d.currentTime)),d.currentTime+=a}};return b.addUpdate(d),d},b.setInterval=function(a,c){var d=0,e={func:a,update:function(a){(d+=a).toFixed(2)>=c&&(e.func&&e.func(d),d=0)}};return b.addUpdate(e),e},b.clearInterval=function(a){b.removeUpdate(a)},b.isPause=function(){return f.pause},b.play=function(){f.pause&&(f.pause=!1,f.currentTime=-1,d(b))},b.once=function(){f.pause=!1,f.currentTime=-1,i(b)},b.pause=function(){f.pause||(f.pause=!0,e(b))},b.stop=function(){f.pause=!0,e(b),b.resetUpdate()},b.add=function(a){f.timeBase<1&&(f.timeBase=1),f.timeBase+=a,4<f.timeBase&&(f.timeBase=4)},b.dec=function(a){1<f.timeBase&&(f.timeBase=1),f.timeBase-=a,f.timeBase<.1&&(f.timeBase=.1)},b.reset=function(){f.timeBase=1},b.getTimeBase=function(){return f.timeBase},b.setTimeBase=function(a){f.timeBase=a,f.timeBase<.1?f.timeBase=.1:4<f.timeBase&&(f.timeBase=4)},b.init=function(a){if(f.isInit)return!1;f.isInit=!0;var e,h,c=a,d=f.screen,g=void 0,i=f.layer;return d.width=c.width||800,d.height=c.height||600,d.transparent=c.transparent,d.antialias=c.antialias,d.resolution=c.resolution,e={view:c.canvas,resolution:d.resolution,antialias:d.antialias,transparent:d.transparent},f.canvas=c.canvas,f.element=c.element,h=PIXI.autoDetectRenderer(d.width,d.height,e),g=new PIXI.Container,i.stage=g,i.overlay=new PIXI.Container,i.foreground=new PIXI.Container,i.main=new PIXI.Container,i.background=new PIXI.Container,g.addChildAt(i.overlay,0),g.addChildAt(i.foreground,0),g.addChildAt(i.main,0),g.addChildAt(i.background,0),f.renderer=h,f.currentTime=-1,b.pause(),c.ready&&c.ready(b),!0},b.renderer=f.renderer,Object.defineProperty(b,"layer",{value:f.layer,writable:!1}),Object.defineProperty(b,"screen",{value:f.screen,writable:!1}),Object.defineProperty(b,"debug",{set:function(a){c||Xb&&(c=new Xb,b.stats=c),a?c&&f.element&&(c.dom.style.position="absolute",f.element.appendChild(c.dom)):c&&f.element&&c.dom.parentElement&&f.element.removeChild(c.dom),f.debug=a},get:function(){return f.debug}}),b.stats=null},a("game",Zb=Object.freeze({init:ea,run:fa})),$b=function(){function a(b){ka(this,a);var c=this,d={name:b,root:null,game:null,center:{entity:{}},initMap:null,currentTime:0,isCreate:!1,isInScene:!1};c.properties=d,Object.defineProperty(c,"center",{get:function(){return d.center}}),Object.defineProperty(c,"entity",{get:function(){return d.center.entity}})}return oa(a,[{key:"getName",value:function(){return this.properties.name}},{key:"getGame",value:function(){return this.properties.game}},{key:"isCreate",value:function(){return this.properties.isCreate}},{key:"isInScene",value:function(){return this.properties.isInScene}},{key:"getCurrentTime",value:function(){return this.properties.currentTime}},{key:"getCenter",value:function(){return this.properties.center}},{key:"getRoot",value:function(){return this.properties.root}},{key:"setRoot",value:function(a){var b=this.properties;b.root=a,b.center=a.center}},{key:"setInitMap",value:function(a){this.properties.initMap=a}},{key:"setLayer",value:function(a){this.properties.center.layer=a}},{key:"getLayer",value:function(){return this.properties.center.layer}},{key:"getRawData",value:function(){return this.properties.center.rawdata}},{key:"getSound",value:function(a){var b=this.properties.center.sounds;return b&&"string"==typeof a&&(b=b[a]),b}},{key:"mute",value:function(a,b){var d=this.properties.center.sounds[a];d&&Object.getOwnPropertyNames(d).forEach(function(a){d[a].mute(b)})}},{key:"getTexture",value:function(a){var b=this.properties.center.textures;return b&&"string"==typeof a&&(b=b[a]),b}},{key:"getObject",value:function(){return this.properties.center.objs}},{key:"getEntity",value:function(){return this.properties.center.entity}},{key:"eventFinish",value:function(){var b=this.properties;N(b.center.textures),O(b.center.spines),b.initMap&&b.initMap(this)}},{key:"eventRawData",value:function(a){}},{key:"eventSound",value:function(a){}},{key:"eventTexture",value:function(a){}},{key:"eventSpine",value:function(a){}},{key:"eventBones",value:function(a){}},{key:"eventObject",value:function(a){}},{key:"refresh",value:function(a){var b=this.getCenter();b&&b.update&&b.update(a)}},{key:"setGame",value:function(a,b){var c=this.properties;(c.game=a).layer.hasOwnProperty(b)&&(c.center.layer=a.layer[b])}},{key:"addToScene",value:function(a){var c=this,d=c.properties;if(d.isInScene)return!1;d.isInScene=!0;var e=d.center;d.currentTime=-1,d.game=a||d.game,d.game&&d.game.addRefresh(d.name,function(a){d.currentTime<0?a=d.currentTime=0:c.currentTime+=a,c.refresh(a)});var f=e.layer;return!e||!e.objs||(e.objs.forEach(function(a){a&&(a._game=d.game||a._game,a.isInScene&&(a.addToScene?a.addToScene(f):f.addChild(a)))}),!0)}},{key:"removeFromScene",value:function(){var a=this.properties;if(!a.isInScene)return!1;a.isInScene=!1,a.game&&a.game.removeRefresh(a.name);var b=a.center;return!b||!b.objs||(b.objs.forEach(function(a){a&&(a.removeFromScene?a.removeFromScene():a.parent&&a.parent.removeChild(a))}),!0)}},{key:"init",value:function(a){var c=this.properties.center,d=vb;if(c&&c.objs){var e=c.entity,f={};a&&(f=a.set||{}),f.setupGroup=f.setupGroup||function(a){a.childList.forEach(function(b){if(b){var c=b.conf;c.objName&&(a[c.objName]=b).objName}}),a.childList.forEach(function(a){if(a){var b=a.conf;b&&f.hasOwnProperty(b.init)&&f[b.init](a)}})},c.objs.forEach(function(a){a&&a.objName&&(e[a.objName]=a).objName}),c.objs.forEach(function(a){var b=void 0;a&&(b=a.conf,d.GROUP===a.type&&f.setupGroup(a,b),b&&f.hasOwnProperty(b.init)&&((a.name||a.objName)+" init : "+b.init,f[b.init](a,b)))})}}},{key:"createScene",value:function(a,b){function c(){e.isCreate=!0,d.eventFinish(),g&&g.createFinish&&g.createFinish()}var d=this,e=d.properties;if(e.isCreate)return a&&a(),!1;var f=b.infoList,g=e.center,h={data:{proc:I,callback:function(a){g&&(g.rawdata=a),d.eventRawData(a)}},sound:{proc:S,callback:function(a){g&&(g.sounds=a),d.eventSound(a)}},texture:{proc:M,callback:function(a){g&&(g.textures=a),d.eventTexture(a)}},spine:{proc:J,callback:function(a){g&&(g.spines=a),d.eventSpine(a)}},bone:{proc:K,callback:function(a){g&&(g.bonesFactory=a),d.eventBones(a)}},object:{proc:L,callback:function(a){g&&(g.objs=a),d.eventObject(a)}}};if(g&&(g.createFinish=a),b.isObject){var i={game:e.game,objData:[],proc:[],callback:[],finish:c};f&&Array.isArray(f)&&f.forEach(function(a){var b=h[a.eventName];b&&a.obj&&b.proc&&(i.objData.push(a.obj),i.proc.push(b.proc)),i.callback.push(b.callback)}),F(i)}else{var j={game:e.game,filename:[],proc:[],callback:[],finish:c};f&&Array.isArray(f)&&f.forEach(function(a){var b=h[a.eventName];b&&a.filename&&j.filename.push(a.filename),j.proc.push(b.proc),j.callback.push(b.callback)}),E(j)}return!0}},{key:"destroyScene",value:function(){this.removeFromScene();var a=this.properties,b=a.center;return!!a.isCreate&&(b&&(b.bonesFactory&&(b.bonesFactory.clear(),b.bonesFactory=null),b.sounds)&&T(b.sounds),!(a.isCreate=!1))}}]),a}(),_b={left:"0%",top:"0%",width:"100%",height:"100%"},ac={zIndex:10,position:"absolute",left:"0%",top:"0%",width:"100%",height:"100%"},bc={game:null,oninit:function(a){var b=a.state,c=a.attrs,d=a.attrs.config,e={useManager:d.useManager,id:c.id||d.id,width:d.width||1024,height:d.height||768,resolution:d.resolution||1,antialias:d.antialias,transparent:d.transparent,event:d.event,ready:function(a){d.ready&&d.ready(a),c&&c.ready&&c.ready(a)}};b.config=e,b.style=c.style||ac},oncreate:function(a){var b=a.state,c=b.config;c.canvas=a.instance.children[0].dom,c.element=a.dom,PIXI.Texture.Draw=function(a){var b=document.createElement("canvas");return"function"==typeof a&&a(b),PIXI.Texture.fromCanvas(b)},c.useManager?b.game=fa(c):(b.game=new Yb,b.game.init(c))},onremove:function(a){var b=a.state.game;b&&b.stop()},view:function(a){var b=a.state;return ja(".",{style:b.style},ja("canvas",{style:_b}))}},cc={},a("scene",dc={Base:$b,sceneManager:Lb,loadingManager:Nb,loading:Sb}),a("ui",ec={loading:Vb,base:Ra}),a("components",fc={game:{pixi:bc,twgl:cc}}),gc=!1,0,1,0,3,0,5,0,7,a("init",ga),a("updateManager",za),a("Lobby",Oa),a("game",Zb),a("scene",dc),a("ui",ec),a("components",fc),a("client",na)}}})})(function(a){define(["loader","mithril"],a)});